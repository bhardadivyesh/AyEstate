var Ot = Object.defineProperty;
var Lt = (t, e, r) => e in t ? Ot(t, e, { enumerable: !0, configurable: !0, writable: !0, value: r }) : t[e] = r;
var Q = (t, e, r) => (Lt(t, typeof e != "symbol" ? e + "" : e, r), r);
function xt(t) {
  return t != null;
}
var j = /* @__PURE__ */ ((t) => (t[t.Silent = 0] = "Silent", t[t.Error = 1] = "Error", t[t.Warn = 2] = "Warn", t[t.Info = 3] = "Info", t[t.Debug = 4] = "Debug", t[t.Verbose = 5] = "Verbose", t))(j || {});
class V {
  static setLogLevel(e) {
    this.logLevel = e;
  }
  static log(e, r = this.logLevel) {
    const n = `[Purchases] ${e}`;
    if (!(this.logLevel < r || r === j.Silent))
      switch (r) {
        case j.Error:
          console.error(n);
          break;
        case j.Warn:
          console.warn(n);
          break;
        case j.Info:
          console.info(n);
          break;
        case j.Debug:
          console.debug(n);
          break;
        case j.Verbose:
          console.debug(n);
          break;
      }
  }
  static errorLog(e) {
    this.log(e, j.Error);
  }
  static warnLog(e) {
    this.log(e, j.Warn);
  }
  static infoLog(e) {
    this.log(e, j.Info);
  }
  static debugLog(e) {
    this.log(e, j.Debug);
  }
  static verboseLog(e) {
    this.log(e, j.Verbose);
  }
}
Q(V, "logLevel", j.Silent);
var pe = /* @__PURE__ */ ((t) => (t.Year = "year", t.Month = "month", t.Week = "week", t.Day = "day", t))(pe || {});
function Ft(t) {
  const e = t.match(/^PT?([0-9]+)([MDYW])$/);
  if (!e || e.length < 3)
    return V.errorLog(`Invalid ISO 8601 duration format: ${t}`), null;
  const r = parseInt(e[1]);
  switch (e[2]) {
    case "Y":
      return {
        number: r,
        unit: "year"
        /* Year */
      };
    case "M":
      return {
        number: r,
        unit: "month"
        /* Month */
      };
    case "W":
      return {
        number: r,
        unit: "week"
        /* Week */
      };
    case "D":
      return {
        number: r,
        unit: "day"
        /* Day */
      };
    default:
      return V.errorLog(`Invalid ISO 8601 unit duration format: ${t}`), null;
  }
}
const Ye = (t, e) => {
  const r = t / 100;
  return new Intl.NumberFormat("en-US", {
    style: "currency",
    currency: e
  }).format(r);
}, Xe = (t) => {
  const e = Ft(t);
  if (!e)
    return "unknown";
  const r = e.number;
  if (r === 1)
    switch (e.unit) {
      case pe.Year:
        return "yearly";
      case pe.Month:
        return "monthly";
      case pe.Week:
        return "weekly";
      case pe.Day:
        return "daily";
    }
  else
    return `every ${r} ${e.unit}s`;
};
var Gt = /* @__PURE__ */ ((t) => (t.Unknown = "unknown", t.Custom = "custom", t.Lifetime = "$rc_lifetime", t.Annual = "$rc_annual", t.SixMonth = "$rc_six_month", t.ThreeMonth = "$rc_three_month", t.TwoMonth = "$rc_two_month", t.Monthly = "$rc_monthly", t.Weekly = "$rc_weekly", t))(Gt || {});
const Yt = (t) => ({
  amount: t.amount,
  currency: t.currency,
  formattedPrice: Ye(t.amount, t.currency)
}), Ht = (t, e) => ({
  identifier: t.identifier,
  displayName: t.title,
  currentPrice: Yt(t.current_price),
  normalPeriodDuration: t.normal_period_duration,
  presentedOfferingIdentifier: e
}), Kt = (t, e, r) => {
  const n = r[e.platform_product_identifier];
  return n === void 0 ? null : {
    identifier: e.identifier,
    rcBillingProduct: Ht(n, t),
    packageType: qt(e.identifier)
  };
}, Ze = (t, e) => {
  const r = t.packages.map(
    (i) => Kt(t.identifier, i, e)
  ).filter(xt), n = {};
  for (const i of r)
    i != null && (n[i.identifier] = i);
  return r.length == 0 ? null : {
    identifier: t.identifier,
    serverDescription: t.description,
    metadata: t.metadata,
    packagesById: n,
    availablePackages: r,
    lifetime: n.$rc_lifetime ?? null,
    annual: n.$rc_annual ?? null,
    sixMonth: n.$rc_six_month ?? null,
    threeMonth: n.$rc_three_month ?? null,
    twoMonth: n.$rc_two_month ?? null,
    monthly: n.$rc_monthly ?? null,
    weekly: n.$rc_weekly ?? null
  };
};
function qt(t) {
  switch (t) {
    case "$rc_lifetime":
      return "$rc_lifetime";
    case "$rc_annual":
      return "$rc_annual";
    case "$rc_six_month":
      return "$rc_six_month";
    case "$rc_three_month":
      return "$rc_three_month";
    case "$rc_two_month":
      return "$rc_two_month";
    case "$rc_monthly":
      return "$rc_monthly";
    case "$rc_weekly":
      return "$rc_weekly";
    default:
      return t.startsWith("$rc_") ? "unknown" : "custom";
  }
}
function y() {
}
function jt(t, e) {
  for (const r in e)
    t[r] = e[r];
  return (
    /** @type {T & S} */
    t
  );
}
function bt(t) {
  return t();
}
function et() {
  return /* @__PURE__ */ Object.create(null);
}
function ke(t) {
  t.forEach(bt);
}
function ae(t) {
  return typeof t == "function";
}
function P(t, e) {
  return t != t ? e == e : t !== e || t && typeof t == "object" || typeof t == "function";
}
let Be;
function Z(t, e) {
  return t === e ? !0 : (Be || (Be = document.createElement("a")), Be.href = e, t === Be.href);
}
function tt(t) {
  return t.split(",").map((e) => e.trim().split(" ").filter(Boolean));
}
function Jt(t, e) {
  const r = tt(t.srcset), n = tt(e || "");
  return n.length === r.length && n.every(
    ([i, o], s) => o === r[s][1] && // We need to test both ways because Vite will create an a full URL with
    // `new URL(asset, import.meta.url).href` for the client when `base: './'`, and the
    // relative URLs inside srcset are not automatically resolved to absolute URLs by
    // browsers (in contrast to img.src). This means both SSR and DOM code could
    // contain relative or absolute URLs.
    (Z(r[s][0], i) || Z(i, r[s][0]))
  );
}
function Vt(t) {
  return Object.keys(t).length === 0;
}
function Y(t, e, r, n) {
  if (t) {
    const i = wt(t, e, r, n);
    return t[0](i);
  }
}
function wt(t, e, r, n) {
  return t[1] && n ? jt(r.ctx.slice(), t[1](n(e))) : r.ctx;
}
function H(t, e, r, n) {
  if (t[2] && n) {
    const i = t[2](n(r));
    if (e.dirty === void 0)
      return i;
    if (typeof i == "object") {
      const o = [], s = Math.max(e.dirty.length, i.length);
      for (let l = 0; l < s; l += 1)
        o[l] = e.dirty[l] | i[l];
      return o;
    }
    return e.dirty | i;
  }
  return e.dirty;
}
function K(t, e, r, n, i, o) {
  if (i) {
    const s = wt(e, r, n, o);
    t.p(s, i);
  }
}
function q(t) {
  if (t.ctx.length > 32) {
    const e = [], r = t.ctx.length / 32;
    for (let n = 0; n < r; n++)
      e[n] = -1;
    return e;
  }
  return -1;
}
function Ie(t) {
  return t ?? "";
}
function D(t, e) {
  t.appendChild(e);
}
function O(t, e, r) {
  const n = Wt(t);
  if (!n.getElementById(e)) {
    const i = k("style");
    i.id = e, i.textContent = r, zt(n, i);
  }
}
function Wt(t) {
  if (!t)
    return document;
  const e = t.getRootNode ? t.getRootNode() : t.ownerDocument;
  return e && /** @type {ShadowRoot} */
  e.host ? (
    /** @type {ShadowRoot} */
    e
  ) : t.ownerDocument;
}
function zt(t, e) {
  return D(
    /** @type {Document} */
    t.head || t,
    e
  ), e.sheet;
}
function p(t, e, r) {
  t.insertBefore(e, r || null);
}
function g(t) {
  t.parentNode && t.parentNode.removeChild(t);
}
function k(t) {
  return document.createElement(t);
}
function R(t) {
  return document.createTextNode(t);
}
function T() {
  return R(" ");
}
function ee() {
  return R("");
}
function $e(t, e, r, n) {
  return t.addEventListener(e, r, n), () => t.removeEventListener(e, r, n);
}
function kt(t) {
  return function(e) {
    return e.preventDefault(), t.call(this, e);
  };
}
function _(t, e, r) {
  r == null ? t.removeAttribute(e) : t.getAttribute(e) !== r && t.setAttribute(e, r);
}
const Xt = ["width", "height"];
function Zt(t, e) {
  const r = Object.getOwnPropertyDescriptors(t.__proto__);
  for (const n in e)
    e[n] == null ? t.removeAttribute(n) : n === "style" ? t.style.cssText = e[n] : n === "__value" ? t.value = t[n] = e[n] : r[n] && r[n].set && Xt.indexOf(n) === -1 ? t[n] = e[n] : _(t, n, e[n]);
}
function en(t, e) {
  Object.keys(e).forEach((r) => {
    tn(t, r, e[r]);
  });
}
function tn(t, e, r) {
  const n = e.toLowerCase();
  n in t ? t[n] = typeof t[n] == "boolean" && r === "" ? !0 : r : e in t ? t[e] = typeof t[e] == "boolean" && r === "" ? !0 : r : _(t, e, r);
}
function nn(t) {
  return /-/.test(t) ? en : Zt;
}
function rn(t) {
  return Array.from(t.childNodes);
}
function ne(t, e) {
  e = "" + e, t.data !== e && (t.data = /** @type {string} */
  e);
}
function nt(t, e) {
  t.value = e ?? "";
}
function on(t, e, { bubbles: r = !1, cancelable: n = !1 } = {}) {
  return new CustomEvent(t, { detail: e, bubbles: r, cancelable: n });
}
let be;
function he(t) {
  be = t;
}
function Re() {
  if (!be)
    throw new Error("Function called outside component initialization");
  return be;
}
function Se(t) {
  Re().$$.on_mount.push(t);
}
function sn() {
  const t = Re();
  return (e, r, { cancelable: n = !1 } = {}) => {
    const i = t.$$.callbacks[e];
    if (i) {
      const o = on(
        /** @type {string} */
        e,
        r,
        { cancelable: n }
      );
      return i.slice().forEach((s) => {
        s.call(t, o);
      }), !o.defaultPrevented;
    }
    return !0;
  };
}
function ln(t, e) {
  return Re().$$.context.set(t, e), e;
}
function cn(t) {
  return Re().$$.context.get(t);
}
function $t(t, e) {
  const r = t.$$.callbacks[e.type];
  r && r.slice().forEach((n) => n.call(this, e));
}
const le = [], Ne = [];
let ce = [];
const He = [], an = /* @__PURE__ */ Promise.resolve();
let Ke = !1;
function un() {
  Ke || (Ke = !0, an.then(vt));
}
function qe(t) {
  ce.push(t);
}
function fn(t) {
  He.push(t);
}
const xe = /* @__PURE__ */ new Set();
let oe = 0;
function vt() {
  if (oe !== 0)
    return;
  const t = be;
  do {
    try {
      for (; oe < le.length; ) {
        const e = le[oe];
        oe++, he(e), dn(e.$$);
      }
    } catch (e) {
      throw le.length = 0, oe = 0, e;
    }
    for (he(null), le.length = 0, oe = 0; Ne.length; )
      Ne.pop()();
    for (let e = 0; e < ce.length; e += 1) {
      const r = ce[e];
      xe.has(r) || (xe.add(r), r());
    }
    ce.length = 0;
  } while (le.length);
  for (; He.length; )
    He.pop()();
  Ke = !1, xe.clear(), he(t);
}
function dn(t) {
  if (t.fragment !== null) {
    t.update(), ke(t.before_update);
    const e = t.dirty;
    t.dirty = [-1], t.fragment && t.fragment.p(t.ctx, e), t.after_update.forEach(qe);
  }
}
function mn(t) {
  const e = [], r = [];
  ce.forEach((n) => t.indexOf(n) === -1 ? e.push(n) : r.push(n)), r.forEach((n) => n()), ce = e;
}
const Qe = /* @__PURE__ */ new Set();
let re;
function L() {
  re = {
    r: 0,
    c: [],
    p: re
    // parent group
  };
}
function x() {
  re.r || ke(re.c), re = re.p;
}
function u(t, e) {
  t && t.i && (Qe.delete(t), t.i(e));
}
function m(t, e, r, n) {
  if (t && t.o) {
    if (Qe.has(t))
      return;
    Qe.add(t), re.c.push(() => {
      Qe.delete(t), n && (r && t.d(1), n());
    }), t.o(e);
  } else
    n && n();
}
function gn(t, e, r) {
  const n = t.$$.props[e];
  n !== void 0 && (t.$$.bound[n] = r, r(t.$$.ctx[n]));
}
function w(t) {
  t && t.c();
}
function I(t, e, r) {
  const { fragment: n, after_update: i } = t.$$;
  n && n.m(e, r), qe(() => {
    const o = t.$$.on_mount.map(bt).filter(ae);
    t.$$.on_destroy ? t.$$.on_destroy.push(...o) : ke(o), t.$$.on_mount = [];
  }), i.forEach(qe);
}
function b(t, e) {
  const r = t.$$;
  r.fragment !== null && (mn(r.after_update), ke(r.on_destroy), r.fragment && r.fragment.d(e), r.on_destroy = r.fragment = null, r.ctx = []);
}
function pn(t, e) {
  t.$$.dirty[0] === -1 && (le.push(t), un(), t.$$.dirty.fill(0)), t.$$.dirty[e / 31 | 0] |= 1 << e % 31;
}
function N(t, e, r, n, i, o, s = null, l = [-1]) {
  const c = be;
  he(t);
  const a = t.$$ = {
    fragment: null,
    ctx: [],
    // state
    props: o,
    update: y,
    not_equal: i,
    bound: et(),
    // lifecycle
    on_mount: [],
    on_destroy: [],
    on_disconnect: [],
    before_update: [],
    after_update: [],
    context: new Map(e.context || (c ? c.$$.context : [])),
    // everything else
    callbacks: et(),
    dirty: l,
    skip_bound: !1,
    root: e.target || c.$$.root
  };
  s && s(a.root);
  let f = !1;
  if (a.ctx = r ? r(t, e.props || {}, (d, E, ...v) => {
    const A = v.length ? v[0] : E;
    return a.ctx && i(a.ctx[d], a.ctx[d] = A) && (!a.skip_bound && a.bound[d] && a.bound[d](A), f && pn(t, d)), E;
  }) : [], a.update(), f = !0, ke(a.before_update), a.fragment = n ? n(a.ctx) : !1, e.target) {
    if (e.hydrate) {
      const d = rn(e.target);
      a.fragment && a.fragment.l(d), d.forEach(g);
    } else
      a.fragment && a.fragment.c();
    e.intro && u(t.$$.fragment), I(t, e.target, e.anchor), vt();
  }
  he(c);
}
class U {
  constructor() {
    /**
     * ### PRIVATE API
     *
     * Do not use, may change at any time
     *
     * @type {any}
     */
    Q(this, "$$");
    /**
     * ### PRIVATE API
     *
     * Do not use, may change at any time
     *
     * @type {any}
     */
    Q(this, "$$set");
  }
  /** @returns {void} */
  $destroy() {
    b(this, 1), this.$destroy = y;
  }
  /**
   * @template {Extract<keyof Events, string>} K
   * @param {K} type
   * @param {((e: Events[K]) => void) | null | undefined} callback
   * @returns {() => void}
   */
  $on(e, r) {
    if (!ae(r))
      return y;
    const n = this.$$.callbacks[e] || (this.$$.callbacks[e] = []);
    return n.push(r), () => {
      const i = n.indexOf(r);
      i !== -1 && n.splice(i, 1);
    };
  }
  /**
   * @param {Partial<Props>} props
   * @returns {void}
   */
  $set(e) {
    this.$$set && !Vt(e) && (this.$$.skip_bound = !0, this.$$set(e), this.$$.skip_bound = !1);
  }
}
const _n = "4";
typeof window < "u" && (window.__svelte || (window.__svelte = { v: /* @__PURE__ */ new Set() })).v.add(_n);
function An(t) {
  O(t, "svelte-1bzqb13", ".rcb-modal-section.svelte-1bzqb13{padding:8px 0px;display:flex}section.rcb-modal-section.svelte-1bzqb13{flex-grow:1}.rcb-modal-section.svelte-1bzqb13:last-of-type{padding:0}");
}
function Fe(t) {
  let e, r;
  const n = (
    /*#slots*/
    t[2].default
  ), i = Y(
    n,
    t,
    /*$$scope*/
    t[1],
    null
  );
  return {
    c() {
      e = k(
        /*as*/
        t[0]
      ), i && i.c(), nn(
        /*as*/
        t[0]
      )(e, {
        class: Ie("rcb-modal-section") + " svelte-1bzqb13"
      });
    },
    m(o, s) {
      p(o, e, s), i && i.m(e, null), r = !0;
    },
    p(o, s) {
      i && i.p && (!r || s & /*$$scope*/
      2) && K(
        i,
        n,
        o,
        /*$$scope*/
        o[1],
        r ? H(
          n,
          /*$$scope*/
          o[1],
          s,
          null
        ) : q(
          /*$$scope*/
          o[1]
        ),
        null
      );
    },
    i(o) {
      r || (u(i, o), r = !0);
    },
    o(o) {
      m(i, o), r = !1;
    },
    d(o) {
      o && g(e), i && i.d(o);
    }
  };
}
function hn(t) {
  let e = (
    /*as*/
    t[0]
  ), r, n, i = (
    /*as*/
    t[0] && Fe(t)
  );
  return {
    c() {
      i && i.c(), r = ee();
    },
    m(o, s) {
      i && i.m(o, s), p(o, r, s), n = !0;
    },
    p(o, [s]) {
      /*as*/
      o[0] ? e ? P(
        e,
        /*as*/
        o[0]
      ) ? (i.d(1), i = Fe(o), e = /*as*/
      o[0], i.c(), i.m(r.parentNode, r)) : i.p(o, s) : (i = Fe(o), e = /*as*/
      o[0], i.c(), i.m(r.parentNode, r)) : e && (i.d(1), i = null, e = /*as*/
      o[0]);
    },
    i(o) {
      n || (u(i, o), n = !0);
    },
    o(o) {
      m(i, o), n = !1;
    },
    d(o) {
      o && g(r), i && i.d(o);
    }
  };
}
function En(t, e, r) {
  let { $$slots: n = {}, $$scope: i } = e, { as: o = "section" } = e;
  return t.$$set = (s) => {
    "as" in s && r(0, o = s.as), "$$scope" in s && r(1, i = s.$$scope);
  }, [o, i, n];
}
class ue extends U {
  constructor(e) {
    super(), N(this, e, En, hn, P, { as: 0 }, An);
  }
}
function In(t) {
  O(t, "svelte-i5dq8q", ".rcb-pricing-info.svelte-i5dq8q{display:flex;flex-direction:column;margin-top:102px;font-weight:500}.rcb-product-price.svelte-i5dq8q{font-size:24px;margin:12px 0px}.rcb-product-details.svelte-i5dq8q{opacity:0.6;list-style-type:disc;list-style-position:inside;margin:0px;padding:0px}@media screen and (max-width: 960px){.rcb-pricing-info.svelte-i5dq8q{margin-top:48px}}");
}
function bn(t) {
  let e, r, n = (
    /*productDetails*/
    t[0].displayName + ""
  ), i, o, s, l = (
    /*productDetails*/
    t[0].currentPrice.currency + ""
  ), c, a = " ", f, d = Ye(
    /*productDetails*/
    t[0].currentPrice.amount,
    /*productDetails*/
    t[0].currentPrice.currency
  ) + "", E, v, A, M, h, B = Xe(
    /*productDetails*/
    t[0].normalPeriodDuration
  ) + "", F, $, de, ye, ie;
  return {
    c() {
      e = k("div"), r = k("span"), i = R(n), o = T(), s = k("span"), c = R(l), f = R(a), E = R(d), v = T(), A = k("ul"), M = k("li"), h = R("Billed "), F = R(B), $ = T(), de = k("li"), de.textContent = "Continues until canceled", ye = T(), ie = k("li"), ie.textContent = "Cancel anytime", _(s, "class", "rcb-product-price svelte-i5dq8q"), _(A, "class", "rcb-product-details svelte-i5dq8q"), _(e, "class", "rcb-pricing-info svelte-i5dq8q");
    },
    m(z, W) {
      p(z, e, W), D(e, r), D(r, i), D(e, o), D(e, s), D(s, c), D(s, f), D(s, E), D(e, v), D(e, A), D(A, M), D(M, h), D(M, F), D(A, $), D(A, de), D(A, ye), D(A, ie);
    },
    p(z, W) {
      W & /*productDetails*/
      1 && n !== (n = /*productDetails*/
      z[0].displayName + "") && ne(i, n), W & /*productDetails*/
      1 && l !== (l = /*productDetails*/
      z[0].currentPrice.currency + "") && ne(c, l), W & /*productDetails*/
      1 && d !== (d = Ye(
        /*productDetails*/
        z[0].currentPrice.amount,
        /*productDetails*/
        z[0].currentPrice.currency
      ) + "") && ne(E, d), W & /*productDetails*/
      1 && B !== (B = Xe(
        /*productDetails*/
        z[0].normalPeriodDuration
      ) + "") && ne(F, B);
    },
    d(z) {
      z && g(e);
    }
  };
}
function wn(t) {
  let e, r;
  return e = new ue({
    props: {
      $$slots: { default: [bn] },
      $$scope: { ctx: t }
    }
  }), {
    c() {
      w(e.$$.fragment);
    },
    m(n, i) {
      I(e, n, i), r = !0;
    },
    p(n, [i]) {
      const o = {};
      i & /*$$scope, productDetails*/
      3 && (o.$$scope = { dirty: i, ctx: n }), e.$set(o);
    },
    i(n) {
      r || (u(e.$$.fragment, n), r = !0);
    },
    o(n) {
      m(e.$$.fragment, n), r = !1;
    },
    d(n) {
      b(e, n);
    }
  };
}
function kn(t, e, r) {
  let { productDetails: n } = e;
  return t.$$set = (i) => {
    "productDetails" in i && r(0, n = i.productDetails);
  }, [n];
}
class yt extends U {
  constructor(e) {
    super(), N(this, e, kn, wn, P, { productDetails: 0 }, In);
  }
}
const $n = "data:image/gif;base64,R0lGODlhMgAyAPcBAAAAAAD/AAMDAwcHBxERERUVFSoqKi0tLTAwMDg4OD09PURERElJSUtLS1BQUFJSUlVVVVdXV1paWl9fX2NjY2ZmZmlpaWxsbG1tbXNzc3t7e39/f4GBgYKCgoSEhIaGhoeHh4iIiIuLi5KSkpSUlJaWlp2dnaGhoaOjo6SkpKWlpaenp6ioqKqqqqurq6ysrLCwsLGxsbS0tLa2tri4uLm5ub29vb6+vsDAwMHBwcLCwsXFxcjIyMnJyc3Nzc7OztPT09TU1NXV1dfX19nZ2dra2tvb29zc3N7e3uDg4OHh4eLi4uPj4+fn5+np6ezs7O7u7vDw8PHx8fLy8vPz8/X19fb29vj4+Pn5+fz8/P39/f7+/v///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////yH/C05FVFNDQVBFMi4wAwEAAAAh+QQFBAABACwAAAAAMgAyAIcAAAAA/wADAwMHBwcREREVFRUqKiotLS0wMDA4ODg9PT1ERERJSUlLS0tQUFBSUlJVVVVXV1daWlpfX19jY2NmZmZpaWlsbGxtbW1zc3N7e3t/f3+BgYGCgoKEhISGhoaHh4eIiIiLi4uSkpKUlJSWlpadnZ2hoaGjo6OkpKSlpaWnp6eoqKiqqqqrq6usrKywsLCxsbG0tLS2tra4uLi5ubm9vb2+vr7AwMDBwcHCwsLFxcXIyMjJycnNzc3Ozs7T09PU1NTV1dXX19fZ2dna2trb29vc3Nze3t7g4ODh4eHi4uLj4+Pn5+fp6ens7Ozu7u7w8PDx8fHy8vLz8/P19fX29vb4+Pj5+fn8/Pz9/f3+/v7///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////8I/wCzcBFIcKDBgggPKkzIcCEXLlq4bIEokeLEiBcrYrTIcaNHjRobinQ4sqRCkBlTdtR44MBKlR9TmjQJQMBMkgZfdpwSMSYAACgpRtHpcSYSFUIa1mz448UQnAWDfmzSooUVmD9XVnnBwglMlDdvvMjhcOlCHit23CSqcUrVJiizpnTC4sXQmB1vZvmxwgYWhWYLznjRA+rJryqvxGhxxGNLjkVcwMCCN6ZeLkNevDCcRYYKJJfZptyCQwdiijl0CDxdlLPryw2lymY9WzTs17ijVq69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";
function vn(t) {
  let e, r;
  return {
    c() {
      e = k("img"), Z(e.src, r = $n) || _(e, "src", r), _(e, "alt", "spinner");
    },
    m(n, i) {
      p(n, e, i);
    },
    p: y,
    i: y,
    o: y,
    d(n) {
      n && g(e);
    }
  };
}
class yn extends U {
  constructor(e) {
    super(), N(this, e, null, vn, P, {});
  }
}
function Bn(t) {
  O(t, "svelte-1mxx341", ".rcb-modal-loader.svelte-1mxx341{width:100%;flex-grow:1;min-height:100%;display:flex;justify-content:center;align-items:center}");
}
function Dn(t) {
  let e, r, n;
  return r = new yn({}), {
    c() {
      e = k("div"), w(r.$$.fragment), _(e, "class", "rcb-modal-loader svelte-1mxx341");
    },
    m(i, o) {
      p(i, e, o), I(r, e, null), n = !0;
    },
    p: y,
    i(i) {
      n || (u(r.$$.fragment, i), n = !0);
    },
    o(i) {
      m(r.$$.fragment, i), n = !1;
    },
    d(i) {
      i && g(e), b(r);
    }
  };
}
class Je extends U {
  constructor(e) {
    super(), N(this, e, null, Dn, P, {}, Bn);
  }
}
var _e = /* @__PURE__ */ ((t) => (t.Started = "started", t.InProgress = "in_progress", t.Succeeded = "succeeded", t.Failed = "failed", t))(_e || {}), Pe = /* @__PURE__ */ ((t) => (t[t.SetupIntentCreationFailed = 1] = "SetupIntentCreationFailed", t[t.PaymentMethodCreationFailed = 2] = "PaymentMethodCreationFailed", t[t.PaymentChargeFailed = 3] = "PaymentChargeFailed", t))(Pe || {}), S = /* @__PURE__ */ ((t) => (t[t.ErrorSettingUpPurchase = 0] = "ErrorSettingUpPurchase", t[t.ErrorChargingPayment = 1] = "ErrorChargingPayment", t[t.UnknownError = 2] = "UnknownError", t[t.NetworkError = 3] = "NetworkError", t[t.StripeError = 4] = "StripeError", t[t.MissingEmailError = 5] = "MissingEmailError", t))(S || {});
class G extends Error {
  constructor(e, r, n) {
    super(r), this.errorCode = e, this.underlyingErrorMessage = n;
  }
}
class Cn {
  constructor(e, r = 10) {
    Q(this, "operationSessionId", null);
    Q(this, "backend");
    Q(this, "maxNumberAttempts");
    Q(this, "waitMSBetweenAttempts", 1e3);
    this.backend = e, this.maxNumberAttempts = r;
  }
  async startPurchase(e, r, n, i) {
    const o = await this.backend.postSubscribe(
      e,
      r,
      n,
      i
    );
    return this.operationSessionId = o.operation_session_id, o;
  }
  async pollCurrentPurchaseForCompletion() {
    const e = this.operationSessionId;
    if (!e)
      throw new G(
        0,
        "No purchase in progress"
      );
    return new Promise((r, n) => {
      const i = (o = 1) => {
        if (o > this.maxNumberAttempts) {
          this.clearPurchaseInProgress(), n(
            new G(
              2,
              "Max attempts reached trying to get successful purchase status"
            )
          );
          return;
        }
        this.backend.getCheckoutStatus(e).then((s) => {
          switch (s.operation.status) {
            case _e.Started:
            case _e.InProgress:
              setTimeout(
                () => i(o + 1),
                this.waitMSBetweenAttempts
              );
              break;
            case _e.Succeeded:
              this.clearPurchaseInProgress(), r();
              return;
            case _e.Failed:
              this.clearPurchaseInProgress(), this.handlePaymentError(
                s.operation.error,
                n
              );
          }
        }).catch((s) => {
          n(
            new G(
              3,
              s.message
            )
          );
        });
      };
      i();
    });
  }
  clearPurchaseInProgress() {
    this.operationSessionId = null;
  }
  handlePaymentError(e, r) {
    if (e == null) {
      r(
        new G(
          2,
          "Got an error status but error field is empty."
        )
      );
      return;
    }
    switch (e.code) {
      case Pe.SetupIntentCreationFailed:
        r(
          new G(
            0,
            "Setup intent creation failed"
          )
        );
        return;
      case Pe.PaymentMethodCreationFailed:
        r(
          new G(
            0,
            "Payment method creation failed"
          )
        );
        return;
      case Pe.PaymentChargeFailed:
        r(
          new G(
            1,
            "Payment charge failed"
          )
        );
        return;
    }
  }
}
const Mn = "data:image/svg+xml,%3csvg%20width='124'%20height='124'%20viewBox='0%200%20124%20124'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20cx='62'%20cy='62'%20r='62'%20fill='%23767676'/%3e%3cpath%20d='M87.6668%2041.504L82.4968%2036.334L62.0002%2056.8307L41.5035%2036.334L36.3335%2041.504L56.8302%2062.0006L36.3335%2082.4973L41.5035%2087.6673L62.0002%2067.1706L82.4968%2087.6673L87.6668%2082.4973L67.1702%2062.0006L87.6668%2041.504Z'%20fill='white'/%3e%3c/svg%3e";
function Qn(t) {
  O(t, "svelte-1609h93", "img.svelte-1609h93{width:124px;height:124px;margin:0 auto}");
}
function Pn(t) {
  let e, r;
  return {
    c() {
      e = k("img"), Z(e.src, r = Mn) || _(e, "src", r), _(e, "alt", "icon"), _(e, "class", "rcb-ui-asset-icon svelte-1609h93");
    },
    m(n, i) {
      p(n, e, i);
    },
    p: y,
    i: y,
    o: y,
    d(n) {
      n && g(e);
    }
  };
}
class Tn extends U {
  constructor(e) {
    super(), N(this, e, null, Pn, P, {}, Qn);
  }
}
function Nn(t) {
  O(t, "svelte-1rmxk7q", "button.svelte-1rmxk7q{border:none;border-radius:56px;font-size:16px;cursor:pointer;height:56px;color:var(--rc-color-grey-text-dark);background-color:var(--rc-color-grey-ui-dark);display:flex;align-items:center;justify-content:center}button.intent-primary.svelte-1rmxk7q{background-color:var(--rc-color-grey-text-dark);color:var(--rc-color-white);font-size:16px}button.svelte-1rmxk7q:disabled{color:var(--rc-color-grey-text-light)}button.intent-primary.svelte-1rmxk7q:disabled{color:var(--rc-color-grey-text-light)}");
}
function Un(t) {
  let e, r, n, i, o;
  const s = (
    /*#slots*/
    t[3].default
  ), l = Y(
    s,
    t,
    /*$$scope*/
    t[2],
    null
  );
  return {
    c() {
      e = k("button"), l && l.c(), _(e, "class", r = Ie(`intent-${/*intent*/
      t[0]}`) + " svelte-1rmxk7q"), e.disabled = /*disabled*/
      t[1];
    },
    m(c, a) {
      p(c, e, a), l && l.m(e, null), n = !0, i || (o = $e(
        e,
        "click",
        /*click_handler*/
        t[4]
      ), i = !0);
    },
    p(c, [a]) {
      l && l.p && (!n || a & /*$$scope*/
      4) && K(
        l,
        s,
        c,
        /*$$scope*/
        c[2],
        n ? H(
          s,
          /*$$scope*/
          c[2],
          a,
          null
        ) : q(
          /*$$scope*/
          c[2]
        ),
        null
      ), (!n || a & /*intent*/
      1 && r !== (r = Ie(`intent-${/*intent*/
      c[0]}`) + " svelte-1rmxk7q")) && _(e, "class", r), (!n || a & /*disabled*/
      2) && (e.disabled = /*disabled*/
      c[1]);
    },
    i(c) {
      n || (u(l, c), n = !0);
    },
    o(c) {
      m(l, c), n = !1;
    },
    d(c) {
      c && g(e), l && l.d(c), i = !1, o();
    }
  };
}
function Rn(t, e, r) {
  let { $$slots: n = {}, $$scope: i } = e, { intent: o = "primary" } = e, { disabled: s = !1 } = e;
  function l(c) {
    $t.call(this, t, c);
  }
  return t.$$set = (c) => {
    "intent" in c && r(0, o = c.intent), "disabled" in c && r(1, s = c.disabled), "$$scope" in c && r(2, i = c.$$scope);
  }, [o, s, i, n, l];
}
class we extends U {
  constructor(e) {
    super(), N(this, e, Rn, Un, P, { intent: 0, disabled: 1 }, Nn);
  }
}
function Sn(t) {
  O(t, "svelte-1f9z0o8", "footer.svelte-1f9z0o8{display:flex;flex-direction:column}");
}
function On(t) {
  let e, r;
  const n = (
    /*#slots*/
    t[1].default
  ), i = Y(
    n,
    t,
    /*$$scope*/
    t[0],
    null
  );
  return {
    c() {
      e = k("footer"), i && i.c(), _(e, "class", "rcb-modal-footer svelte-1f9z0o8");
    },
    m(o, s) {
      p(o, e, s), i && i.m(e, null), r = !0;
    },
    p(o, [s]) {
      i && i.p && (!r || s & /*$$scope*/
      1) && K(
        i,
        n,
        o,
        /*$$scope*/
        o[0],
        r ? H(
          n,
          /*$$scope*/
          o[0],
          s,
          null
        ) : q(
          /*$$scope*/
          o[0]
        ),
        null
      );
    },
    i(o) {
      r || (u(i, o), r = !0);
    },
    o(o) {
      m(i, o), r = !1;
    },
    d(o) {
      o && g(e), i && i.d(o);
    }
  };
}
function Ln(t, e, r) {
  let { $$slots: n = {}, $$scope: i } = e;
  return t.$$set = (o) => {
    "$$scope" in o && r(0, i = o.$$scope);
  }, [i, n];
}
class Ve extends U {
  constructor(e) {
    super(), N(this, e, Ln, On, P, {}, Sn);
  }
}
function xn(t) {
  O(t, "svelte-6o8e90", '.column.svelte-6o8e90{display:flex;flex-direction:column;justify-content:flex-start;gap:var(--gap, "8px");flex-grow:1}');
}
function Fn(t) {
  let e, r, n;
  const i = (
    /*#slots*/
    t[2].default
  ), o = Y(
    i,
    t,
    /*$$scope*/
    t[1],
    null
  );
  return {
    c() {
      e = k("div"), o && o.c(), _(e, "class", "column svelte-6o8e90"), _(e, "style", r = `--gap:${/*gutter*/
      t[0]};`);
    },
    m(s, l) {
      p(s, e, l), o && o.m(e, null), n = !0;
    },
    p(s, [l]) {
      o && o.p && (!n || l & /*$$scope*/
      2) && K(
        o,
        i,
        s,
        /*$$scope*/
        s[1],
        n ? H(
          i,
          /*$$scope*/
          s[1],
          l,
          null
        ) : q(
          /*$$scope*/
          s[1]
        ),
        null
      ), (!n || l & /*gutter*/
      1 && r !== (r = `--gap:${/*gutter*/
      s[0]};`)) && _(e, "style", r);
    },
    i(s) {
      n || (u(o, s), n = !0);
    },
    o(s) {
      m(o, s), n = !1;
    },
    d(s) {
      s && g(e), o && o.d(s);
    }
  };
}
function Gn(t, e, r) {
  let { $$slots: n = {}, $$scope: i } = e, { gutter: o = "8px" } = e;
  return t.$$set = (s) => {
    "gutter" in s && r(0, o = s.gutter), "$$scope" in s && r(1, i = s.$$scope);
  }, [o, i, n];
}
class ve extends U {
  constructor(e) {
    super(), N(this, e, Gn, Fn, P, { gutter: 0 }, xn);
  }
}
const Yn = "data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='mdi_close'%3e%3cpath%20id='Vector'%20d='M19%206.41L17.59%205L12%2010.59L6.41%205L5%206.41L10.59%2012L5%2017.59L6.41%2019L12%2013.41L17.59%2019L19%2017.59L13.41%2012L19%206.41Z'%20fill='%23767676'/%3e%3c/g%3e%3c/svg%3e";
function Hn(t) {
  O(t, "svelte-14xreta", ".close-button.svelte-14xreta{border:none;cursor:pointer;background-color:transparent;padding:0px}");
}
function Kn(t) {
  let e, r, n, i, o;
  return {
    c() {
      e = k("button"), r = k("img"), Z(r.src, n = Yn) || _(r, "src", n), _(r, "alt", "close"), _(e, "class", "close-button svelte-14xreta"), e.disabled = /*disabled*/
      t[0];
    },
    m(s, l) {
      p(s, e, l), D(e, r), i || (o = $e(
        e,
        "click",
        /*click_handler*/
        t[1]
      ), i = !0);
    },
    p(s, [l]) {
      l & /*disabled*/
      1 && (e.disabled = /*disabled*/
      s[0]);
    },
    i: y,
    o: y,
    d(s) {
      s && g(e), i = !1, o();
    }
  };
}
function qn(t, e, r) {
  let { disabled: n = !1 } = e;
  function i(o) {
    $t.call(this, t, o);
  }
  return t.$$set = (o) => {
    "disabled" in o && r(0, n = o.disabled);
  }, [n, i];
}
class jn extends U {
  constructor(e) {
    super(), N(this, e, qn, Kn, P, { disabled: 0 }, Hn);
  }
}
function Jn(t) {
  O(t, "svelte-44qpq9", ".rcb-app-icon.svelte-44qpq9{width:40px;height:40px;border-radius:12px;box-shadow:0px 1px 10px 0px rgba(0, 0, 0, 0.1);margin-right:16px}.rcb-app-icon-picture-container.svelte-44qpq9{height:40px}.rcb-app-icon.loading.svelte-44qpq9{background-color:gray}");
}
function Vn(t) {
  let e;
  return {
    c() {
      e = k("div"), _(e, "class", "rcb-app-icon loading svelte-44qpq9");
    },
    m(r, n) {
      p(r, e, n);
    },
    p: y,
    d(r) {
      r && g(e);
    }
  };
}
function Wn(t) {
  let e, r, n, i, o, s;
  return {
    c() {
      e = k("picture"), r = k("source"), i = T(), o = k("img"), _(r, "type", "image/webp"), Jt(r, n = /*srcWebp*/
      t[1]) || _(r, "srcset", n), _(o, "class", "rcb-app-icon svelte-44qpq9"), Z(o.src, s = /*src*/
      t[0]) || _(o, "src", s), _(o, "alt", "App icon"), _(e, "class", "rcb-app-icon-picture-container svelte-44qpq9");
    },
    m(l, c) {
      p(l, e, c), D(e, r), D(e, i), D(e, o);
    },
    p(l, c) {
      c & /*srcWebp*/
      2 && n !== (n = /*srcWebp*/
      l[1]) && _(r, "srcset", n), c & /*src*/
      1 && !Z(o.src, s = /*src*/
      l[0]) && _(o, "src", s);
    },
    d(l) {
      l && g(e);
    }
  };
}
function zn(t) {
  let e;
  function r(o, s) {
    return (
      /*src*/
      o[0] !== null ? Wn : Vn
    );
  }
  let n = r(t), i = n(t);
  return {
    c() {
      i.c(), e = ee();
    },
    m(o, s) {
      i.m(o, s), p(o, e, s);
    },
    p(o, [s]) {
      n === (n = r(o)) && i ? i.p(o, s) : (i.d(1), i = n(o), i && (i.c(), i.m(e.parentNode, e)));
    },
    i: y,
    o: y,
    d(o) {
      o && g(e), i.d(o);
    }
  };
}
function Xn(t, e, r) {
  let { src: n = null } = e, { srcWebp: i = null } = e;
  return t.$$set = (o) => {
    "src" in o && r(0, n = o.src), "srcWebp" in o && r(1, i = o.srcWebp);
  }, [n, i];
}
class Bt extends U {
  constructor(e) {
    super(), N(this, e, Xn, zn, P, { src: 0, srcWebp: 1 }, Jn);
  }
}
const De = (t) => `https://da08ctfrofx1b.cloudfront.net/${t}`;
function Zn(t) {
  O(t, "svelte-10uf5fq", ".app-title.svelte-10uf5fq{font-weight:500;margin:8px 0;font-size:16px}.rcb-header-layout__business-info.svelte-10uf5fq{display:flex;align-items:center}");
}
function er(t) {
  let e, r;
  return e = new Bt({}), {
    c() {
      w(e.$$.fragment);
    },
    m(n, i) {
      I(e, n, i), r = !0;
    },
    p: y,
    i(n) {
      r || (u(e.$$.fragment, n), r = !0);
    },
    o(n) {
      m(e.$$.fragment, n), r = !1;
    },
    d(n) {
      b(e, n);
    }
  };
}
function tr(t) {
  let e, r, n = (
    /*brandingInfo*/
    t[0].seller_company_name + ""
  ), i, o, s = (
    /*brandingInfo*/
    t[0].app_icon_webp !== null && /*brandingInfo*/
    t[0].app_icon !== null && rt(t)
  );
  return {
    c() {
      s && s.c(), e = T(), r = k("span"), i = R(n), _(r, "class", "app-title svelte-10uf5fq");
    },
    m(l, c) {
      s && s.m(l, c), p(l, e, c), p(l, r, c), D(r, i), o = !0;
    },
    p(l, c) {
      /*brandingInfo*/
      l[0].app_icon_webp !== null && /*brandingInfo*/
      l[0].app_icon !== null ? s ? (s.p(l, c), c & /*brandingInfo*/
      1 && u(s, 1)) : (s = rt(l), s.c(), u(s, 1), s.m(e.parentNode, e)) : s && (L(), m(s, 1, 1, () => {
        s = null;
      }), x()), (!o || c & /*brandingInfo*/
      1) && n !== (n = /*brandingInfo*/
      l[0].seller_company_name + "") && ne(i, n);
    },
    i(l) {
      o || (u(s), o = !0);
    },
    o(l) {
      m(s), o = !1;
    },
    d(l) {
      l && (g(e), g(r)), s && s.d(l);
    }
  };
}
function rt(t) {
  let e, r;
  return e = new Bt({
    props: {
      src: De(
        /*brandingInfo*/
        t[0].app_icon
      ),
      srcWebp: De(
        /*brandingInfo*/
        t[0].app_icon_webp
      )
    }
  }), {
    c() {
      w(e.$$.fragment);
    },
    m(n, i) {
      I(e, n, i), r = !0;
    },
    p(n, i) {
      const o = {};
      i & /*brandingInfo*/
      1 && (o.src = De(
        /*brandingInfo*/
        n[0].app_icon
      )), i & /*brandingInfo*/
      1 && (o.srcWebp = De(
        /*brandingInfo*/
        n[0].app_icon_webp
      )), e.$set(o);
    },
    i(n) {
      r || (u(e.$$.fragment, n), r = !0);
    },
    o(n) {
      m(e.$$.fragment, n), r = !1;
    },
    d(n) {
      b(e, n);
    }
  };
}
function nr(t) {
  let e, r, n, i;
  const o = [tr, er], s = [];
  function l(c, a) {
    return (
      /*brandingInfo*/
      c[0] !== null ? 0 : 1
    );
  }
  return r = l(t), n = s[r] = o[r](t), {
    c() {
      e = k("div"), n.c(), _(e, "class", "rcb-header-layout__business-info svelte-10uf5fq");
    },
    m(c, a) {
      p(c, e, a), s[r].m(e, null), i = !0;
    },
    p(c, [a]) {
      let f = r;
      r = l(c), r === f ? s[r].p(c, a) : (L(), m(s[f], 1, 1, () => {
        s[f] = null;
      }), x(), n = s[r], n ? n.p(c, a) : (n = s[r] = o[r](c), n.c()), u(n, 1), n.m(e, null));
    },
    i(c) {
      i || (u(n), i = !0);
    },
    o(c) {
      m(n), i = !1;
    },
    d(c) {
      c && g(e), s[r].d();
    }
  };
}
function rr(t, e, r) {
  let { brandingInfo: n = null } = e;
  return t.$$set = (i) => {
    "brandingInfo" in i && r(0, n = i.brandingInfo);
  }, [n];
}
class Dt extends U {
  constructor(e) {
    super(), N(this, e, rr, nr, P, { brandingInfo: 0 }, Zn);
  }
}
function ir(t) {
  O(t, "svelte-17puakv", ".rcb-post-purchase-header-layout.svelte-17puakv{display:flex;justify-content:space-between;align-items:center;width:100%;margin-top:-4px}");
}
function or(t) {
  let e, r, n, i, o;
  return r = new Dt({
    props: { brandingInfo: (
      /*brandingInfo*/
      t[0]
    ) }
  }), i = new jn({}), i.$on("click", function() {
    ae(
      /*onClose*/
      t[1]
    ) && t[1].apply(this, arguments);
  }), {
    c() {
      e = k("div"), w(r.$$.fragment), n = T(), w(i.$$.fragment), _(e, "class", "rcb-post-purchase-header-layout svelte-17puakv");
    },
    m(s, l) {
      p(s, e, l), I(r, e, null), D(e, n), I(i, e, null), o = !0;
    },
    p(s, l) {
      t = s;
      const c = {};
      l & /*brandingInfo*/
      1 && (c.brandingInfo = /*brandingInfo*/
      t[0]), r.$set(c);
    },
    i(s) {
      o || (u(r.$$.fragment, s), u(i.$$.fragment, s), o = !0);
    },
    o(s) {
      m(r.$$.fragment, s), m(i.$$.fragment, s), o = !1;
    },
    d(s) {
      s && g(e), b(r), b(i);
    }
  };
}
function sr(t) {
  let e, r;
  return e = new ue({
    props: {
      as: "header",
      $$slots: { default: [or] },
      $$scope: { ctx: t }
    }
  }), {
    c() {
      w(e.$$.fragment);
    },
    m(n, i) {
      I(e, n, i), r = !0;
    },
    p(n, [i]) {
      const o = {};
      i & /*$$scope, onClose, brandingInfo*/
      7 && (o.$$scope = { dirty: i, ctx: n }), e.$set(o);
    },
    i(n) {
      r || (u(e.$$.fragment, n), r = !0);
    },
    o(n) {
      m(e.$$.fragment, n), r = !1;
    },
    d(n) {
      b(e, n);
    }
  };
}
function lr(t, e, r) {
  let { brandingInfo: n = null } = e, { onClose: i } = e;
  return t.$$set = (o) => {
    "brandingInfo" in o && r(0, n = o.brandingInfo), "onClose" in o && r(1, i = o.onClose);
  }, [n, i];
}
class cr extends U {
  constructor(e) {
    super(), N(this, e, lr, sr, P, { brandingInfo: 0, onClose: 1 }, ir);
  }
}
function ar(t) {
  O(t, "svelte-10pcqja", ".rcb-modal-message.svelte-10pcqja{width:100%;min-height:160px;display:flex;justify-content:center;align-items:center;flex-direction:column;text-align:center}.title.svelte-10pcqja{font-size:24px;line-height:1.25em}.subtitle.svelte-10pcqja{font-size:16px;line-height:1.25em;overflow-wrap:anywhere}");
}
const ur = (t) => ({}), it = (t) => ({});
function fr(t) {
  let e, r, n, i, o;
  const s = (
    /*#slots*/
    t[4].default
  ), l = Y(
    s,
    t,
    /*$$scope*/
    t[5],
    null
  );
  return {
    c() {
      e = k("span"), r = R(
        /*title*/
        t[2]
      ), n = T(), i = k("span"), l && l.c(), _(e, "class", "title svelte-10pcqja"), _(i, "class", "subtitle svelte-10pcqja");
    },
    m(c, a) {
      p(c, e, a), D(e, r), p(c, n, a), p(c, i, a), l && l.m(i, null), o = !0;
    },
    p(c, a) {
      (!o || a & /*title*/
      4) && ne(
        r,
        /*title*/
        c[2]
      ), l && l.p && (!o || a & /*$$scope*/
      32) && K(
        l,
        s,
        c,
        /*$$scope*/
        c[5],
        o ? H(
          s,
          /*$$scope*/
          c[5],
          a,
          null
        ) : q(
          /*$$scope*/
          c[5]
        ),
        null
      );
    },
    i(c) {
      o || (u(l, c), o = !0);
    },
    o(c) {
      m(l, c), o = !1;
    },
    d(c) {
      c && (g(e), g(n), g(i)), l && l.d(c);
    }
  };
}
function dr(t) {
  let e, r, n;
  const i = (
    /*#slots*/
    t[4].icon
  ), o = Y(
    i,
    t,
    /*$$scope*/
    t[5],
    it
  );
  return r = new ve({
    props: {
      gutter: "16px",
      $$slots: { default: [fr] },
      $$scope: { ctx: t }
    }
  }), {
    c() {
      o && o.c(), e = T(), w(r.$$.fragment);
    },
    m(s, l) {
      o && o.m(s, l), p(s, e, l), I(r, s, l), n = !0;
    },
    p(s, l) {
      o && o.p && (!n || l & /*$$scope*/
      32) && K(
        o,
        i,
        s,
        /*$$scope*/
        s[5],
        n ? H(
          i,
          /*$$scope*/
          s[5],
          l,
          ur
        ) : q(
          /*$$scope*/
          s[5]
        ),
        it
      );
      const c = {};
      l & /*$$scope, title*/
      36 && (c.$$scope = { dirty: l, ctx: s }), r.$set(c);
    },
    i(s) {
      n || (u(o, s), u(r.$$.fragment, s), n = !0);
    },
    o(s) {
      m(o, s), m(r.$$.fragment, s), n = !1;
    },
    d(s) {
      s && g(e), o && o.d(s), b(r, s);
    }
  };
}
function mr(t) {
  let e, r, n;
  return r = new ve({
    props: {
      gutter: "16px",
      $$slots: { default: [dr] },
      $$scope: { ctx: t }
    }
  }), {
    c() {
      e = k("div"), w(r.$$.fragment), _(e, "class", "rcb-modal-message svelte-10pcqja"), _(
        e,
        "data-type",
        /*type*/
        t[3]
      );
    },
    m(i, o) {
      p(i, e, o), I(r, e, null), n = !0;
    },
    p(i, o) {
      const s = {};
      o & /*$$scope, title*/
      36 && (s.$$scope = { dirty: o, ctx: i }), r.$set(s), (!n || o & /*type*/
      8) && _(
        e,
        "data-type",
        /*type*/
        i[3]
      );
    },
    i(i) {
      n || (u(r.$$.fragment, i), n = !0);
    },
    o(i) {
      m(r.$$.fragment, i), n = !1;
    },
    d(i) {
      i && g(e), b(r);
    }
  };
}
function gr(t) {
  let e;
  return {
    c() {
      e = R("Go back to app");
    },
    m(r, n) {
      p(r, e, n);
    },
    d(r) {
      r && g(e);
    }
  };
}
function pr(t) {
  let e, r;
  return e = new we({
    props: {
      $$slots: { default: [gr] },
      $$scope: { ctx: t }
    }
  }), e.$on("click", function() {
    ae(
      /*onContinue*/
      t[1]
    ) && t[1].apply(this, arguments);
  }), {
    c() {
      w(e.$$.fragment);
    },
    m(n, i) {
      I(e, n, i), r = !0;
    },
    p(n, i) {
      t = n;
      const o = {};
      i & /*$$scope*/
      32 && (o.$$scope = { dirty: i, ctx: t }), e.$set(o);
    },
    i(n) {
      r || (u(e.$$.fragment, n), r = !0);
    },
    o(n) {
      m(e.$$.fragment, n), r = !1;
    },
    d(n) {
      b(e, n);
    }
  };
}
function _r(t) {
  let e, r, n, i, o, s;
  return e = new cr({
    props: {
      brandingInfo: (
        /*brandingInfo*/
        t[0]
      ),
      onClose: (
        /*onContinue*/
        t[1]
      )
    }
  }), n = new ue({
    props: {
      $$slots: { default: [mr] },
      $$scope: { ctx: t }
    }
  }), o = new Ve({
    props: {
      $$slots: { default: [pr] },
      $$scope: { ctx: t }
    }
  }), {
    c() {
      w(e.$$.fragment), r = T(), w(n.$$.fragment), i = T(), w(o.$$.fragment);
    },
    m(l, c) {
      I(e, l, c), p(l, r, c), I(n, l, c), p(l, i, c), I(o, l, c), s = !0;
    },
    p(l, c) {
      const a = {};
      c & /*brandingInfo*/
      1 && (a.brandingInfo = /*brandingInfo*/
      l[0]), c & /*onContinue*/
      2 && (a.onClose = /*onContinue*/
      l[1]), e.$set(a);
      const f = {};
      c & /*$$scope, type, title*/
      44 && (f.$$scope = { dirty: c, ctx: l }), n.$set(f);
      const d = {};
      c & /*$$scope, onContinue*/
      34 && (d.$$scope = { dirty: c, ctx: l }), o.$set(d);
    },
    i(l) {
      s || (u(e.$$.fragment, l), u(n.$$.fragment, l), u(o.$$.fragment, l), s = !0);
    },
    o(l) {
      m(e.$$.fragment, l), m(n.$$.fragment, l), m(o.$$.fragment, l), s = !1;
    },
    d(l) {
      l && (g(r), g(i)), b(e, l), b(n, l), b(o, l);
    }
  };
}
function Ar(t) {
  let e, r;
  return e = new ve({
    props: {
      gutter: "32px",
      $$slots: { default: [_r] },
      $$scope: { ctx: t }
    }
  }), {
    c() {
      w(e.$$.fragment);
    },
    m(n, i) {
      I(e, n, i), r = !0;
    },
    p(n, [i]) {
      const o = {};
      i & /*$$scope, onContinue, type, title, brandingInfo*/
      47 && (o.$$scope = { dirty: i, ctx: n }), e.$set(o);
    },
    i(n) {
      r || (u(e.$$.fragment, n), r = !0);
    },
    o(n) {
      m(e.$$.fragment, n), r = !1;
    },
    d(n) {
      b(e, n);
    }
  };
}
function hr(t, e, r) {
  let { $$slots: n = {}, $$scope: i } = e, { brandingInfo: o = null } = e, { onContinue: s } = e, { title: l } = e, { type: c } = e;
  return t.$$set = (a) => {
    "brandingInfo" in a && r(0, o = a.brandingInfo), "onContinue" in a && r(1, s = a.onContinue), "title" in a && r(2, l = a.title), "type" in a && r(3, c = a.type), "$$scope" in a && r(5, i = a.$$scope);
  }, [o, s, l, c, n, i];
}
class Ct extends U {
  constructor(e) {
    super(), N(
      this,
      e,
      hr,
      Ar,
      P,
      {
        brandingInfo: 0,
        onContinue: 1,
        title: 2,
        type: 3
      },
      ar
    );
  }
}
function ot(t) {
  let e, r, n, i, o;
  return {
    c() {
      e = R("If this error persists, please contact "), r = k("a"), n = R(
        /*supportEmail*/
        t[1]
      ), o = R("."), _(r, "href", i = "mailto:" + /*supportEmail*/
      t[1]);
    },
    m(s, l) {
      p(s, e, l), p(s, r, l), D(r, n), p(s, o, l);
    },
    p(s, l) {
      l & /*supportEmail*/
      2 && ne(
        n,
        /*supportEmail*/
        s[1]
      ), l & /*supportEmail*/
      2 && i !== (i = "mailto:" + /*supportEmail*/
      s[1]) && _(r, "href", i);
    },
    d(s) {
      s && (g(e), g(r), g(o));
    }
  };
}
function Er(t) {
  let e = (
    /*getErrorMessage*/
    t[3]() + ""
  ), r, n, i, o = (
    /*supportEmail*/
    t[1] && ot(t)
  );
  return {
    c() {
      r = R(e), n = T(), o && o.c(), i = ee();
    },
    m(s, l) {
      p(s, r, l), p(s, n, l), o && o.m(s, l), p(s, i, l);
    },
    p(s, l) {
      /*supportEmail*/
      s[1] ? o ? o.p(s, l) : (o = ot(s), o.c(), o.m(i.parentNode, i)) : o && (o.d(1), o = null);
    },
    d(s) {
      s && (g(r), g(n), g(i)), o && o.d(s);
    }
  };
}
function Ir(t) {
  let e, r;
  return e = new Tn({ props: { slot: "icon" } }), {
    c() {
      w(e.$$.fragment);
    },
    m(n, i) {
      I(e, n, i), r = !0;
    },
    p: y,
    i(n) {
      r || (u(e.$$.fragment, n), r = !0);
    },
    o(n) {
      m(e.$$.fragment, n), r = !1;
    },
    d(n) {
      b(e, n);
    }
  };
}
function br(t) {
  let e, r;
  return e = new Ct({
    props: {
      title: "Something went wrong",
      brandingInfo: (
        /*brandingInfo*/
        t[0]
      ),
      onContinue: (
        /*onContinue*/
        t[2]
      ),
      type: "error",
      $$slots: {
        icon: [Ir],
        default: [Er]
      },
      $$scope: { ctx: t }
    }
  }), {
    c() {
      w(e.$$.fragment);
    },
    m(n, i) {
      I(e, n, i), r = !0;
    },
    p(n, [i]) {
      const o = {};
      i & /*brandingInfo*/
      1 && (o.brandingInfo = /*brandingInfo*/
      n[0]), i & /*onContinue*/
      4 && (o.onContinue = /*onContinue*/
      n[2]), i & /*$$scope, supportEmail*/
      34 && (o.$$scope = { dirty: i, ctx: n }), e.$set(o);
    },
    i(n) {
      r || (u(e.$$.fragment, n), r = !0);
    },
    o(n) {
      m(e.$$.fragment, n), r = !1;
    },
    d(n) {
      b(e, n);
    }
  };
}
function wr(t, e, r) {
  let { brandingInfo: n = null } = e, { lastError: i } = e, { supportEmail: o = null } = e, { onContinue: s } = e;
  Se(() => {
    V.errorLog(`Displayed error: ${S[i.errorCode]}. Message: ${i.message ?? "None"}. Underlying error: ${i.underlyingErrorMessage ?? "None"}`);
  });
  function l() {
    switch (i.errorCode) {
      case S.UnknownError:
        return "An unknown error occurred.";
      case S.ErrorSettingUpPurchase:
        return "Purchase not started due to an error.";
      case S.ErrorChargingPayment:
        return "Payment failed.";
      case S.NetworkError:
        return "Network error. Please check your internet connection.";
      case S.StripeError:
        return i.message;
      case S.MissingEmailError:
        return "Email is required to complete the purchase.";
    }
    return i.message;
  }
  return t.$$set = (c) => {
    "brandingInfo" in c && r(0, n = c.brandingInfo), "lastError" in c && r(4, i = c.lastError), "supportEmail" in c && r(1, o = c.supportEmail), "onContinue" in c && r(2, s = c.onContinue);
  }, [n, o, s, l, i];
}
class kr extends U {
  constructor(e) {
    super(), N(this, e, wr, br, P, {
      brandingInfo: 0,
      lastError: 4,
      supportEmail: 1,
      onContinue: 2
    });
  }
}
const $r = "data:image/svg+xml,%3csvg%20width='124'%20height='124'%20viewBox='0%200%20124%20124'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20cx='62'%20cy='62'%20r='62'%20fill='%23576CDB'/%3e%3crect%20x='44.1116'%20y='56'%20width='27.5'%20height='11'%20transform='rotate(45%2044.1116%2056)'%20fill='white'/%3e%3crect%20x='79.1133'%20y='44.334'%20width='11'%20height='44'%20transform='rotate(45%2079.1133%2044.334)'%20fill='white'/%3e%3c/svg%3e";
function vr(t) {
  O(t, "svelte-1609h93", "img.svelte-1609h93{width:124px;height:124px;margin:0 auto}");
}
function yr(t) {
  let e, r;
  return {
    c() {
      e = k("img"), Z(e.src, r = $r) || _(e, "src", r), _(e, "alt", "icon"), _(e, "class", "rcb-ui-asset-icon svelte-1609h93");
    },
    m(n, i) {
      p(n, e, i);
    },
    p: y,
    i: y,
    o: y,
    d(n) {
      n && g(e);
    }
  };
}
class Br extends U {
  constructor(e) {
    super(), N(this, e, null, yr, P, {}, vr);
  }
}
function Dr(t) {
  let e;
  return {
    c() {
      e = R("Your plan is now active.");
    },
    m(r, n) {
      p(r, e, n);
    },
    d(r) {
      r && g(e);
    }
  };
}
function Cr(t) {
  let e, r;
  return e = new Br({ props: { slot: "icon" } }), {
    c() {
      w(e.$$.fragment);
    },
    m(n, i) {
      I(e, n, i), r = !0;
    },
    p: y,
    i(n) {
      r || (u(e.$$.fragment, n), r = !0);
    },
    o(n) {
      m(e.$$.fragment, n), r = !1;
    },
    d(n) {
      b(e, n);
    }
  };
}
function Mr(t) {
  let e, r;
  return e = new Ct({
    props: {
      type: "success",
      title: "Purchase successful",
      brandingInfo: (
        /*brandingInfo*/
        t[0]
      ),
      onContinue: (
        /*onContinue*/
        t[1]
      ),
      $$slots: {
        icon: [Cr],
        default: [Dr]
      },
      $$scope: { ctx: t }
    }
  }), {
    c() {
      w(e.$$.fragment);
    },
    m(n, i) {
      I(e, n, i), r = !0;
    },
    p(n, [i]) {
      const o = {};
      i & /*brandingInfo*/
      1 && (o.brandingInfo = /*brandingInfo*/
      n[0]), i & /*onContinue*/
      2 && (o.onContinue = /*onContinue*/
      n[1]), i & /*$$scope*/
      4 && (o.$$scope = { dirty: i, ctx: n }), e.$set(o);
    },
    i(n) {
      r || (u(e.$$.fragment, n), r = !0);
    },
    o(n) {
      m(e.$$.fragment, n), r = !1;
    },
    d(n) {
      b(e, n);
    }
  };
}
function Qr(t, e, r) {
  let { brandingInfo: n = null } = e, { onContinue: i } = e;
  return t.$$set = (o) => {
    "brandingInfo" in o && r(0, n = o.brandingInfo), "onContinue" in o && r(1, i = o.onContinue);
  }, [n, i];
}
class Pr extends U {
  constructor(e) {
    super(), N(this, e, Qr, Mr, P, { brandingInfo: 0, onContinue: 1 });
  }
}
function Tr(t, e, r, n, i = {}) {
  const o = r.create(e, i);
  return o.mount(t), o.on("change", (s) => n("change", s)), o.on("ready", (s) => n("ready", s)), o.on("focus", (s) => n("focus", s)), o.on("blur", (s) => n("blur", s)), o.on("escape", (s) => n("escape", s)), o.on("click", (s) => n("click", s)), o.on("loaderror", (s) => n("loaderror", s)), o.on("loaderstart", (s) => n("loaderstart", s)), o.on("networkschange", (s) => n("networkschange", s)), o;
}
const Nr = typeof window > "u";
function Ur(t) {
  if (!Nr)
    return t.registerAppInfo({
      name: "svelte-stripe-js",
      url: "https://svelte-stripe-js.vercel.app"
    });
}
function Rr(t) {
  let e;
  return {
    c() {
      e = k("div");
    },
    m(r, n) {
      p(r, e, n), t[6](e);
    },
    p: y,
    i: y,
    o: y,
    d(r) {
      r && g(e), t[6](null);
    }
  };
}
function Sr(t, e, r) {
  let n, i;
  const o = sn(), { elements: s } = cn("stripe");
  let { options: l = void 0 } = e;
  Se(() => (n = Tr(i, "payment", s, o, l), () => n.destroy()));
  function c() {
    n.blur();
  }
  function a() {
    n.clear();
  }
  function f() {
    n.destroy();
  }
  function d() {
    n.focus();
  }
  function E(v) {
    Ne[v ? "unshift" : "push"](() => {
      i = v, r(0, i);
    });
  }
  return t.$$set = (v) => {
    "options" in v && r(1, l = v.options);
  }, [i, l, c, a, f, d, E];
}
class Or extends U {
  constructor(e) {
    super(), N(this, e, Sr, Rr, P, {
      options: 1,
      blur: 2,
      clear: 3,
      destroy: 4,
      focus: 5
    });
  }
  get blur() {
    return this.$$.ctx[2];
  }
  get clear() {
    return this.$$.ctx[3];
  }
  get destroy() {
    return this.$$.ctx[4];
  }
  get focus() {
    return this.$$.ctx[5];
  }
}
function st(t) {
  let e;
  const r = (
    /*#slots*/
    t[15].default
  ), n = Y(
    r,
    t,
    /*$$scope*/
    t[14],
    null
  );
  return {
    c() {
      n && n.c();
    },
    m(i, o) {
      n && n.m(i, o), e = !0;
    },
    p(i, o) {
      n && n.p && (!e || o & /*$$scope*/
      16384) && K(
        n,
        r,
        i,
        /*$$scope*/
        i[14],
        e ? H(
          r,
          /*$$scope*/
          i[14],
          o,
          null
        ) : q(
          /*$$scope*/
          i[14]
        ),
        null
      );
    },
    i(i) {
      e || (u(n, i), e = !0);
    },
    o(i) {
      m(n, i), e = !1;
    },
    d(i) {
      n && n.d(i);
    }
  };
}
function Lr(t) {
  let e, r, n = (
    /*stripe*/
    t[1] && /*elements*/
    t[0] && st(t)
  );
  return {
    c() {
      n && n.c(), e = ee();
    },
    m(i, o) {
      n && n.m(i, o), p(i, e, o), r = !0;
    },
    p(i, [o]) {
      /*stripe*/
      i[1] && /*elements*/
      i[0] ? n ? (n.p(i, o), o & /*stripe, elements*/
      3 && u(n, 1)) : (n = st(i), n.c(), u(n, 1), n.m(e.parentNode, e)) : n && (L(), m(n, 1, 1, () => {
        n = null;
      }), x());
    },
    i(i) {
      r || (u(n), r = !0);
    },
    o(i) {
      m(n), r = !1;
    },
    d(i) {
      i && g(e), n && n.d(i);
    }
  };
}
function xr(t, e, r) {
  let n, { $$slots: i = {}, $$scope: o } = e, { stripe: s } = e, { mode: l = void 0 } = e, { theme: c = "stripe" } = e, { variables: a = {} } = e, { rules: f = {} } = e, { labels: d = "above" } = e, { loader: E = "auto" } = e, { fonts: v = [] } = e, { locale: A = "auto" } = e, { currency: M = void 0 } = e, { amount: h = void 0 } = e, { clientSecret: B = void 0 } = e, { elements: F = null } = e;
  return t.$$set = ($) => {
    "stripe" in $ && r(1, s = $.stripe), "mode" in $ && r(2, l = $.mode), "theme" in $ && r(3, c = $.theme), "variables" in $ && r(4, a = $.variables), "rules" in $ && r(5, f = $.rules), "labels" in $ && r(6, d = $.labels), "loader" in $ && r(7, E = $.loader), "fonts" in $ && r(8, v = $.fonts), "locale" in $ && r(9, A = $.locale), "currency" in $ && r(10, M = $.currency), "amount" in $ && r(11, h = $.amount), "clientSecret" in $ && r(12, B = $.clientSecret), "elements" in $ && r(0, F = $.elements), "$$scope" in $ && r(14, o = $.$$scope);
  }, t.$$.update = () => {
    t.$$.dirty & /*theme, variables, rules, labels*/
    120 && r(13, n = { theme: c, variables: a, rules: f, labels: d }), t.$$.dirty & /*stripe, elements, mode, currency, amount, appearance, clientSecret, fonts, loader, locale*/
    16263 && s && !F && (r(0, F = s.elements({
      mode: l,
      currency: M,
      amount: h,
      appearance: n,
      clientSecret: B,
      fonts: v,
      loader: E,
      locale: A
    })), Ur(s), ln("stripe", { stripe: s, elements: F })), t.$$.dirty & /*elements, appearance, locale*/
    8705 && F && F.update({ appearance: n, locale: A });
  }, [
    F,
    s,
    l,
    c,
    a,
    f,
    d,
    E,
    v,
    A,
    M,
    h,
    B,
    n,
    o,
    i
  ];
}
class Fr extends U {
  constructor(e) {
    super(), N(this, e, xr, Lr, P, {
      stripe: 1,
      mode: 2,
      theme: 3,
      variables: 4,
      rules: 5,
      labels: 6,
      loader: 7,
      fonts: 8,
      locale: 9,
      currency: 10,
      amount: 11,
      clientSecret: 12,
      elements: 0
    });
  }
}
var Mt = "https://js.stripe.com/v3", Gr = /^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/, lt = "loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used", Yr = function() {
  for (var e = document.querySelectorAll('script[src^="'.concat(Mt, '"]')), r = 0; r < e.length; r++) {
    var n = e[r];
    if (Gr.test(n.src))
      return n;
  }
  return null;
}, ct = function(e) {
  var r = e && !e.advancedFraudSignals ? "?advancedFraudSignals=false" : "", n = document.createElement("script");
  n.src = "".concat(Mt).concat(r);
  var i = document.head || document.body;
  if (!i)
    throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");
  return i.appendChild(n), n;
}, Hr = function(e, r) {
  !e || !e._registerWrapper || e._registerWrapper({
    name: "stripe-js",
    version: "2.4.0",
    startTime: r
  });
}, me = null, Ce = null, Me = null, Kr = function(e) {
  return function() {
    e(new Error("Failed to load Stripe.js"));
  };
}, qr = function(e, r) {
  return function() {
    window.Stripe ? e(window.Stripe) : r(new Error("Stripe.js not available"));
  };
}, jr = function(e) {
  return me !== null ? me : (me = new Promise(function(r, n) {
    if (typeof window > "u" || typeof document > "u") {
      r(null);
      return;
    }
    if (window.Stripe && e && console.warn(lt), window.Stripe) {
      r(window.Stripe);
      return;
    }
    try {
      var i = Yr();
      if (i && e)
        console.warn(lt);
      else if (!i)
        i = ct(e);
      else if (i && Me !== null && Ce !== null) {
        var o;
        i.removeEventListener("load", Me), i.removeEventListener("error", Ce), (o = i.parentNode) === null || o === void 0 || o.removeChild(i), i = ct(e);
      }
      Me = qr(r, n), Ce = Kr(n), i.addEventListener("load", Me), i.addEventListener("error", Ce);
    } catch (s) {
      n(s);
      return;
    }
  }), me.catch(function(r) {
    return me = null, Promise.reject(r);
  }));
}, Jr = function(e, r, n) {
  if (e === null)
    return null;
  var i = e.apply(void 0, r);
  return Hr(i, n), i;
}, ge, Qt = !1, Pt = function() {
  return ge || (ge = jr(null).catch(function(e) {
    return ge = null, Promise.reject(e);
  }), ge);
};
Promise.resolve().then(function() {
  return Pt();
}).catch(function(t) {
  Qt || console.warn(t);
});
var Vr = function() {
  for (var e = arguments.length, r = new Array(e), n = 0; n < e; n++)
    r[n] = arguments[n];
  Qt = !0;
  var i = Date.now();
  return Pt().then(function(o) {
    return Jr(o, r, i);
  });
};
function Wr(t) {
  O(t, "svelte-1xe711j", ".rcb-header-layout.svelte-1xe711j{display:flex;justify-content:space-between;align-items:center;width:100%;font-size:24px;margin:0;font-weight:500}");
}
function zr(t) {
  let e, r;
  const n = (
    /*#slots*/
    t[0].default
  ), i = Y(
    n,
    t,
    /*$$scope*/
    t[1],
    null
  );
  return {
    c() {
      e = k("div"), i && i.c(), _(e, "class", "rcb-header-layout svelte-1xe711j");
    },
    m(o, s) {
      p(o, e, s), i && i.m(e, null), r = !0;
    },
    p(o, s) {
      i && i.p && (!r || s & /*$$scope*/
      2) && K(
        i,
        n,
        o,
        /*$$scope*/
        o[1],
        r ? H(
          n,
          /*$$scope*/
          o[1],
          s,
          null
        ) : q(
          /*$$scope*/
          o[1]
        ),
        null
      );
    },
    i(o) {
      r || (u(i, o), r = !0);
    },
    o(o) {
      m(i, o), r = !1;
    },
    d(o) {
      o && g(e), i && i.d(o);
    }
  };
}
function Xr(t) {
  let e, r;
  return e = new ue({
    props: {
      as: "header",
      $$slots: { default: [zr] },
      $$scope: { ctx: t }
    }
  }), {
    c() {
      w(e.$$.fragment);
    },
    m(n, i) {
      I(e, n, i), r = !0;
    },
    p(n, [i]) {
      const o = {};
      i & /*$$scope*/
      2 && (o.$$scope = { dirty: i, ctx: n }), e.$set(o);
    },
    i(n) {
      r || (u(e.$$.fragment, n), r = !0);
    },
    o(n) {
      m(e.$$.fragment, n), r = !1;
    },
    d(n) {
      b(e, n);
    }
  };
}
function Zr(t, e, r) {
  let { $$slots: n = {}, $$scope: i } = e;
  return t.$$set = (o) => {
    "$$scope" in o && r(1, i = o.$$scope);
  }, [n, i];
}
class We extends U {
  constructor(e) {
    super(), N(this, e, Zr, Xr, P, {}, Wr);
  }
}
const ei = "data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M18%208H17V6C17%203.24%2014.76%201%2012%201C9.24%201%207%203.24%207%206V8H6C4.9%208%204%208.9%204%2010V20C4%2021.1%204.9%2022%206%2022H18C19.1%2022%2020%2021.1%2020%2020V10C20%208.9%2019.1%208%2018%208ZM12%2017C10.9%2017%2010%2016.1%2010%2015C10%2013.9%2010.9%2013%2012%2013C13.1%2013%2014%2013.9%2014%2015C14%2016.1%2013.1%2017%2012%2017ZM15.1%208H8.9V6C8.9%204.29%2010.29%202.9%2012%202.9C13.71%202.9%2015.1%204.29%2015.1%206V8Z'%20fill='%2311D483'/%3e%3c/svg%3e";
function ti(t) {
  let e, r;
  return {
    c() {
      e = k("img"), Z(e.src, r = ei) || _(e, "src", r), _(e, "alt", "icon"), _(e, "class", "rcb-ui-asset-icon");
    },
    m(n, i) {
      p(n, e, i);
    },
    p: y,
    i: y,
    o: y,
    d(n) {
      n && g(e);
    }
  };
}
class ni extends U {
  constructor(e) {
    super(), N(this, e, null, ti, P, {});
  }
}
const Ae = {
  error: "#f2545b",
  warning: "#f4e971",
  focus: "#000080",
  "grey-text-dark": "#000000",
  "grey-text-light": "#767676",
  "grey-ui-dark": "#dfdfdf",
  white: "#ffffff"
};
function ri(t) {
  O(t, "svelte-rjmul6", `.processing.svelte-rjmul6{width:12px;aspect-ratio:1;border-radius:50%;animation:svelte-rjmul6-l5 1.5s infinite linear}@keyframes svelte-rjmul6-l5{0%{box-shadow:20px 0 #fff2,
        -20px 0 #fff2;background:#fff2}25%{box-shadow:20px 0 #fff2,
        -20px 0 #ffff;background:#fff2}50%{box-shadow:20px 0 #fff2,
        -20px 0 #fff2;background:#ffff}75%{box-shadow:20px 0 #ffff,
        -20px 0 #fff2;background:#fff2}100%{box-shadow:20px 0 #fff2,
        -20px 0 #fff2;background:#fff2}}`);
}
function ii(t) {
  let e;
  return {
    c() {
      e = k("div"), _(e, "class", "processing svelte-rjmul6");
    },
    m(r, n) {
      p(r, e, n);
    },
    p: y,
    i: y,
    o: y,
    d(r) {
      r && g(e);
    }
  };
}
class Tt extends U {
  constructor(e) {
    super(), N(this, e, null, ii, P, {}, ri);
  }
}
function oi(t) {
  O(t, "svelte-1wxt892", ".rcb-stripe-elements-container.svelte-1wxt892{width:100%;margin-top:32px;margin-bottom:24px}");
}
function si(t) {
  let e, r;
  return e = new Je({}), {
    c() {
      w(e.$$.fragment);
    },
    m(n, i) {
      I(e, n, i), r = !0;
    },
    p: y,
    i(n) {
      r || (u(e.$$.fragment, n), r = !0);
    },
    o(n) {
      m(e.$$.fragment, n), r = !1;
    },
    d(n) {
      b(e, n);
    }
  };
}
function li(t) {
  let e, r, n, i, o, s;
  function l(a) {
    t[9](a);
  }
  let c = {
    stripe: (
      /*stripe*/
      t[3]
    ),
    clientSecret: (
      /*clientSecret*/
      t[4]
    ),
    loader: "always",
    theme: "stripe",
    variables: {
      borderRadius: "12px",
      fontSizeBase: "16px",
      fontSizeSm: "16px",
      spacingGridRow: "16px",
      colorText: Ae["grey-text-dark"],
      focusBoxShadow: "none",
      colorDanger: Ae.error
    },
    rules: {
      ".Input": {
        boxShadow: "none",
        border: `2px solid ${Ae["grey-ui-dark"]}`
      },
      ".Input:focus": {
        border: `2px solid ${Ae.focus}`,
        outline: "none"
      },
      ".Label": {
        marginBottom: "8px",
        fontWeight: "500",
        lineHeight: "22px"
      },
      ".Input--invalid": { boxShadow: "none" }
    },
    $$slots: { default: [_i] },
    $$scope: { ctx: t }
  };
  return (
    /*elements*/
    t[2] !== void 0 && (c.elements = /*elements*/
    t[2]), r = new Fr({ props: c }), Ne.push(() => gn(r, "elements", l)), {
      c() {
        e = k("form"), w(r.$$.fragment);
      },
      m(a, f) {
        p(a, e, f), I(r, e, null), i = !0, o || (s = $e(e, "submit", kt(
          /*handleContinue*/
          t[5]
        )), o = !0);
      },
      p(a, f) {
        const d = {};
        f & /*stripe*/
        8 && (d.stripe = /*stripe*/
        a[3]), f & /*$$scope, processing, onClose*/
        2051 && (d.$$scope = { dirty: f, ctx: a }), !n && f & /*elements*/
        4 && (n = !0, d.elements = /*elements*/
        a[2], fn(() => n = !1)), r.$set(d);
      },
      i(a) {
        i || (u(r.$$.fragment, a), i = !0);
      },
      o(a) {
        m(r.$$.fragment, a), i = !1;
      },
      d(a) {
        a && g(e), b(r), o = !1, s();
      }
    }
  );
}
function ci(t) {
  let e, r, n, i;
  return n = new ni({}), {
    c() {
      e = k("div"), e.textContent = "Secure Checkout", r = T(), w(n.$$.fragment);
    },
    m(o, s) {
      p(o, e, s), p(o, r, s), I(n, o, s), i = !0;
    },
    p: y,
    i(o) {
      i || (u(n.$$.fragment, o), i = !0);
    },
    o(o) {
      m(n.$$.fragment, o), i = !1;
    },
    d(o) {
      o && (g(e), g(r)), b(n, o);
    }
  };
}
function ai(t) {
  let e, r, n;
  return r = new Or({}), {
    c() {
      e = k("div"), w(r.$$.fragment), _(e, "class", "rcb-stripe-elements-container svelte-1wxt892");
    },
    m(i, o) {
      p(i, e, o), I(r, e, null), n = !0;
    },
    p: y,
    i(i) {
      n || (u(r.$$.fragment, i), n = !0);
    },
    o(i) {
      m(r.$$.fragment, i), n = !1;
    },
    d(i) {
      i && g(e), b(r);
    }
  };
}
function ui(t) {
  let e;
  return {
    c() {
      e = R("Pay");
    },
    m(r, n) {
      p(r, e, n);
    },
    i: y,
    o: y,
    d(r) {
      r && g(e);
    }
  };
}
function fi(t) {
  let e, r;
  return e = new Tt({}), {
    c() {
      w(e.$$.fragment);
    },
    m(n, i) {
      I(e, n, i), r = !0;
    },
    i(n) {
      r || (u(e.$$.fragment, n), r = !0);
    },
    o(n) {
      m(e.$$.fragment, n), r = !1;
    },
    d(n) {
      b(e, n);
    }
  };
}
function di(t) {
  let e, r, n, i;
  const o = [fi, ui], s = [];
  function l(c, a) {
    return (
      /*processing*/
      c[0] ? 0 : 1
    );
  }
  return e = l(t), r = s[e] = o[e](t), {
    c() {
      r.c(), n = ee();
    },
    m(c, a) {
      s[e].m(c, a), p(c, n, a), i = !0;
    },
    p(c, a) {
      let f = e;
      e = l(c), e !== f && (L(), m(s[f], 1, 1, () => {
        s[f] = null;
      }), x(), r = s[e], r || (r = s[e] = o[e](c), r.c()), u(r, 1), r.m(n.parentNode, n));
    },
    i(c) {
      i || (u(r), i = !0);
    },
    o(c) {
      m(r), i = !1;
    },
    d(c) {
      c && g(n), s[e].d(c);
    }
  };
}
function mi(t) {
  let e;
  return {
    c() {
      e = R("Close");
    },
    m(r, n) {
      p(r, e, n);
    },
    d(r) {
      r && g(e);
    }
  };
}
function gi(t) {
  let e, r, n, i;
  return e = new we({
    props: {
      disabled: (
        /*processing*/
        t[0]
      ),
      $$slots: { default: [di] },
      $$scope: { ctx: t }
    }
  }), n = new we({
    props: {
      disabled: (
        /*processing*/
        t[0]
      ),
      intent: "secondary",
      $$slots: { default: [mi] },
      $$scope: { ctx: t }
    }
  }), n.$on("click", function() {
    ae(
      /*onClose*/
      t[1]
    ) && t[1].apply(this, arguments);
  }), {
    c() {
      w(e.$$.fragment), r = T(), w(n.$$.fragment);
    },
    m(o, s) {
      I(e, o, s), p(o, r, s), I(n, o, s), i = !0;
    },
    p(o, s) {
      t = o;
      const l = {};
      s & /*processing*/
      1 && (l.disabled = /*processing*/
      t[0]), s & /*$$scope, processing*/
      2049 && (l.$$scope = { dirty: s, ctx: t }), e.$set(l);
      const c = {};
      s & /*processing*/
      1 && (c.disabled = /*processing*/
      t[0]), s & /*$$scope*/
      2048 && (c.$$scope = { dirty: s, ctx: t }), n.$set(c);
    },
    i(o) {
      i || (u(e.$$.fragment, o), u(n.$$.fragment, o), i = !0);
    },
    o(o) {
      m(e.$$.fragment, o), m(n.$$.fragment, o), i = !1;
    },
    d(o) {
      o && g(r), b(e, o), b(n, o);
    }
  };
}
function pi(t) {
  let e, r;
  return e = new ve({
    props: {
      $$slots: { default: [gi] },
      $$scope: { ctx: t }
    }
  }), {
    c() {
      w(e.$$.fragment);
    },
    m(n, i) {
      I(e, n, i), r = !0;
    },
    p(n, i) {
      const o = {};
      i & /*$$scope, processing, onClose*/
      2051 && (o.$$scope = { dirty: i, ctx: n }), e.$set(o);
    },
    i(n) {
      r || (u(e.$$.fragment, n), r = !0);
    },
    o(n) {
      m(e.$$.fragment, n), r = !1;
    },
    d(n) {
      b(e, n);
    }
  };
}
function _i(t) {
  let e, r, n, i, o, s;
  return e = new We({
    props: {
      $$slots: { default: [ci] },
      $$scope: { ctx: t }
    }
  }), n = new ue({
    props: {
      $$slots: { default: [ai] },
      $$scope: { ctx: t }
    }
  }), o = new Ve({
    props: {
      $$slots: { default: [pi] },
      $$scope: { ctx: t }
    }
  }), {
    c() {
      w(e.$$.fragment), r = T(), w(n.$$.fragment), i = T(), w(o.$$.fragment);
    },
    m(l, c) {
      I(e, l, c), p(l, r, c), I(n, l, c), p(l, i, c), I(o, l, c), s = !0;
    },
    p(l, c) {
      const a = {};
      c & /*$$scope*/
      2048 && (a.$$scope = { dirty: c, ctx: l }), e.$set(a);
      const f = {};
      c & /*$$scope*/
      2048 && (f.$$scope = { dirty: c, ctx: l }), n.$set(f);
      const d = {};
      c & /*$$scope, processing, onClose*/
      2051 && (d.$$scope = { dirty: c, ctx: l }), o.$set(d);
    },
    i(l) {
      s || (u(e.$$.fragment, l), u(n.$$.fragment, l), u(o.$$.fragment, l), s = !0);
    },
    o(l) {
      m(e.$$.fragment, l), m(n.$$.fragment, l), m(o.$$.fragment, l), s = !1;
    },
    d(l) {
      l && (g(r), g(i)), b(e, l), b(n, l), b(o, l);
    }
  };
}
function Ai(t) {
  let e, r, n, i;
  const o = [li, si], s = [];
  function l(c, a) {
    return (
      /*stripe*/
      c[3] && /*clientSecret*/
      c[4] ? 0 : 1
    );
  }
  return r = l(t), n = s[r] = o[r](t), {
    c() {
      e = k("div"), n.c();
    },
    m(c, a) {
      p(c, e, a), s[r].m(e, null), i = !0;
    },
    p(c, [a]) {
      let f = r;
      r = l(c), r === f ? s[r].p(c, a) : (L(), m(s[f], 1, 1, () => {
        s[f] = null;
      }), x(), n = s[r], n ? n.p(c, a) : (n = s[r] = o[r](c), n.c()), u(n, 1), n.m(e, null));
    },
    i(c) {
      i || (u(n), i = !0);
    },
    o(c) {
      m(n), i = !1;
    },
    d(c) {
      c && g(e), s[r].d();
    }
  };
}
function hi(t, e, r) {
  let { onClose: n } = e, { onContinue: i } = e, { onError: o } = e, { paymentInfoCollectionMetadata: s } = e, { processing: l = !1 } = e;
  const c = s.data.client_secret;
  let a = null, f, d;
  Se(async () => {
    const A = s.data.publishable_api_key, M = s.data.stripe_account_id;
    if (!A || !M)
      throw new Error("Stripe publishable key or account ID not found");
    r(3, a = await Vr(A, { stripeAccount: M }));
  });
  const E = async () => {
    if (l || !a || !d)
      return;
    r(0, l = !0);
    const A = await a.confirmSetup({
      elements: d,
      redirect: "if_required"
    });
    A.error ? (r(0, l = !1), o(new G(S.StripeError, A.error.message))) : i();
  };
  function v(A) {
    f = A, r(2, f);
  }
  return t.$$set = (A) => {
    "onClose" in A && r(1, n = A.onClose), "onContinue" in A && r(6, i = A.onContinue), "onError" in A && r(7, o = A.onError), "paymentInfoCollectionMetadata" in A && r(8, s = A.paymentInfoCollectionMetadata), "processing" in A && r(0, l = A.processing);
  }, t.$$.update = () => {
    t.$$.dirty & /*elements*/
    4 && f && f._elements.length > 0 && (d = f);
  }, [
    l,
    n,
    f,
    a,
    c,
    E,
    i,
    o,
    s,
    v
  ];
}
class Ei extends U {
  constructor(e) {
    super(), N(
      this,
      e,
      hi,
      Ai,
      P,
      {
        onClose: 1,
        onContinue: 6,
        onError: 7,
        paymentInfoCollectionMetadata: 8,
        processing: 0
      },
      oi
    );
  }
}
function Ii(t) {
  O(t, "svelte-favd20", "form.svelte-favd20.svelte-favd20{display:flex;flex-direction:column;min-height:100%;flex-grow:1}.form-container.svelte-favd20.svelte-favd20{display:flex;flex-direction:column;width:100%;margin-top:32px;margin-bottom:16px}.form-label.svelte-favd20.svelte-favd20{margin-top:8px;margin-bottom:8px;display:block;font-weight:500;line-height:22px}.form-input.error.svelte-favd20 input.svelte-favd20{border-color:var(--rc-color-error)}.form-error.svelte-favd20.svelte-favd20{margin-top:4px;font-size:16px;line-height:20px;min-height:40px;color:var(--rc-color-error)}input.svelte-favd20.svelte-favd20{width:100%;box-sizing:border-box;padding:8px;border:2px solid var(--rc-color-grey-ui-dark);border-radius:12px;font-size:16px;height:48px;padding:6px 14px}input.svelte-favd20.svelte-favd20:focus{outline:none;border:2px solid var(--rc-color-focus)}");
}
function bi(t) {
  let e;
  return {
    c() {
      e = R("Billing email address");
    },
    m(r, n) {
      p(r, e, n);
    },
    d(r) {
      r && g(e);
    }
  };
}
function at(t) {
  let e, r;
  return {
    c() {
      e = k("div"), r = R(
        /*error*/
        t[2]
      ), _(e, "class", "form-error svelte-favd20");
    },
    m(n, i) {
      p(n, e, i), D(e, r);
    },
    p(n, i) {
      i & /*error*/
      4 && ne(
        r,
        /*error*/
        n[2]
      );
    },
    d(n) {
      n && g(e);
    }
  };
}
function wi(t) {
  let e, r, n, i, o, s, l, c, a, f = (
    /*error*/
    t[2] && at(t)
  );
  return {
    c() {
      e = k("div"), r = k("div"), r.innerHTML = '<label for="email">Email</label>', n = T(), i = k("div"), o = k("input"), l = T(), f && f.c(), _(r, "class", "form-label svelte-favd20"), _(o, "name", "email"), _(o, "placeholder", "john@appleseed.com"), _(o, "autocapitalize", "off"), _(o, "class", "svelte-favd20"), _(i, "class", s = "form-input " + /*inputClass*/
      t[4] + " svelte-favd20"), _(e, "class", "form-container svelte-favd20");
    },
    m(d, E) {
      p(d, e, E), D(e, r), D(e, n), D(e, i), D(i, o), nt(
        o,
        /*email*/
        t[3]
      ), D(e, l), f && f.m(e, null), c || (a = $e(
        o,
        "input",
        /*input_input_handler*/
        t[7]
      ), c = !0);
    },
    p(d, E) {
      E & /*email*/
      8 && o.value !== /*email*/
      d[3] && nt(
        o,
        /*email*/
        d[3]
      ), E & /*inputClass*/
      16 && s !== (s = "form-input " + /*inputClass*/
      d[4] + " svelte-favd20") && _(i, "class", s), /*error*/
      d[2] ? f ? f.p(d, E) : (f = at(d), f.c(), f.m(e, null)) : f && (f.d(1), f = null);
    },
    d(d) {
      d && g(e), f && f.d(), c = !1, a();
    }
  };
}
function ki(t) {
  let e;
  return {
    c() {
      e = R("Continue");
    },
    m(r, n) {
      p(r, e, n);
    },
    i: y,
    o: y,
    d(r) {
      r && g(e);
    }
  };
}
function $i(t) {
  let e, r;
  return e = new Tt({}), {
    c() {
      w(e.$$.fragment);
    },
    m(n, i) {
      I(e, n, i), r = !0;
    },
    i(n) {
      r || (u(e.$$.fragment, n), r = !0);
    },
    o(n) {
      m(e.$$.fragment, n), r = !1;
    },
    d(n) {
      b(e, n);
    }
  };
}
function vi(t) {
  let e, r, n, i;
  const o = [$i, ki], s = [];
  function l(c, a) {
    return (
      /*processing*/
      c[1] ? 0 : 1
    );
  }
  return e = l(t), r = s[e] = o[e](t), {
    c() {
      r.c(), n = ee();
    },
    m(c, a) {
      s[e].m(c, a), p(c, n, a), i = !0;
    },
    p(c, a) {
      let f = e;
      e = l(c), e !== f && (L(), m(s[f], 1, 1, () => {
        s[f] = null;
      }), x(), r = s[e], r || (r = s[e] = o[e](c), r.c()), u(r, 1), r.m(n.parentNode, n));
    },
    i(c) {
      i || (u(r), i = !0);
    },
    o(c) {
      m(r), i = !1;
    },
    d(c) {
      c && g(n), s[e].d(c);
    }
  };
}
function yi(t) {
  let e;
  return {
    c() {
      e = R("Close");
    },
    m(r, n) {
      p(r, e, n);
    },
    d(r) {
      r && g(e);
    }
  };
}
function Bi(t) {
  let e, r, n, i;
  return e = new we({
    props: {
      disabled: (
        /*processing*/
        t[1]
      ),
      $$slots: { default: [vi] },
      $$scope: { ctx: t }
    }
  }), n = new we({
    props: {
      intent: "secondary",
      disabled: (
        /*processing*/
        t[1]
      ),
      $$slots: { default: [yi] },
      $$scope: { ctx: t }
    }
  }), n.$on("click", function() {
    ae(
      /*onClose*/
      t[0]
    ) && t[0].apply(this, arguments);
  }), {
    c() {
      w(e.$$.fragment), r = T(), w(n.$$.fragment);
    },
    m(o, s) {
      I(e, o, s), p(o, r, s), I(n, o, s), i = !0;
    },
    p(o, s) {
      t = o;
      const l = {};
      s & /*processing*/
      2 && (l.disabled = /*processing*/
      t[1]), s & /*$$scope, processing*/
      258 && (l.$$scope = { dirty: s, ctx: t }), e.$set(l);
      const c = {};
      s & /*processing*/
      2 && (c.disabled = /*processing*/
      t[1]), s & /*$$scope*/
      256 && (c.$$scope = { dirty: s, ctx: t }), n.$set(c);
    },
    i(o) {
      i || (u(e.$$.fragment, o), u(n.$$.fragment, o), i = !0);
    },
    o(o) {
      m(e.$$.fragment, o), m(n.$$.fragment, o), i = !1;
    },
    d(o) {
      o && g(r), b(e, o), b(n, o);
    }
  };
}
function Di(t) {
  let e, r;
  return e = new ve({
    props: {
      $$slots: { default: [Bi] },
      $$scope: { ctx: t }
    }
  }), {
    c() {
      w(e.$$.fragment);
    },
    m(n, i) {
      I(e, n, i), r = !0;
    },
    p(n, i) {
      const o = {};
      i & /*$$scope, processing, onClose*/
      259 && (o.$$scope = { dirty: i, ctx: n }), e.$set(o);
    },
    i(n) {
      r || (u(e.$$.fragment, n), r = !0);
    },
    o(n) {
      m(e.$$.fragment, n), r = !1;
    },
    d(n) {
      b(e, n);
    }
  };
}
function Ci(t) {
  let e, r, n, i, o, s, l, c, a;
  return r = new We({
    props: {
      $$slots: { default: [bi] },
      $$scope: { ctx: t }
    }
  }), i = new ue({
    props: {
      $$slots: { default: [wi] },
      $$scope: { ctx: t }
    }
  }), s = new Ve({
    props: {
      $$slots: { default: [Di] },
      $$scope: { ctx: t }
    }
  }), {
    c() {
      e = k("form"), w(r.$$.fragment), n = T(), w(i.$$.fragment), o = T(), w(s.$$.fragment), _(e, "class", "svelte-favd20");
    },
    m(f, d) {
      p(f, e, d), I(r, e, null), D(e, n), I(i, e, null), D(e, o), I(s, e, null), l = !0, c || (a = $e(e, "submit", kt(
        /*handleContinue*/
        t[5]
      )), c = !0);
    },
    p(f, [d]) {
      const E = {};
      d & /*$$scope*/
      256 && (E.$$scope = { dirty: d, ctx: f }), r.$set(E);
      const v = {};
      d & /*$$scope, error, inputClass, email*/
      284 && (v.$$scope = { dirty: d, ctx: f }), i.$set(v);
      const A = {};
      d & /*$$scope, processing, onClose*/
      259 && (A.$$scope = { dirty: d, ctx: f }), s.$set(A);
    },
    i(f) {
      l || (u(r.$$.fragment, f), u(i.$$.fragment, f), u(s.$$.fragment, f), l = !0);
    },
    o(f) {
      m(r.$$.fragment, f), m(i.$$.fragment, f), m(s.$$.fragment, f), l = !1;
    },
    d(f) {
      f && g(e), b(r), b(i), b(s), c = !1, a();
    }
  };
}
function Mi(t, e, r) {
  let n, i, o, { onContinue: s } = e, { onClose: l } = e, { processing: c } = e;
  const a = async () => {
    n.trim() === "" ? r(2, i = "You need to provide your email address to continue.") : s({ email: n });
  };
  function f() {
    n = this.value, r(3, n);
  }
  return t.$$set = (d) => {
    "onContinue" in d && r(6, s = d.onContinue), "onClose" in d && r(0, l = d.onClose), "processing" in d && r(1, c = d.processing);
  }, t.$$.update = () => {
    t.$$.dirty & /*error*/
    4 && r(4, o = i ? "error" : "");
  }, r(3, n = ""), r(2, i = ""), [
    l,
    c,
    i,
    n,
    o,
    a,
    s,
    f
  ];
}
class Qi extends U {
  constructor(e) {
    super(), N(this, e, Mi, Ci, P, { onContinue: 6, onClose: 0, processing: 1 }, Ii);
  }
}
function Pi(t) {
  O(t, "svelte-17tslso", ".rcb-modal-backdrop.svelte-17tslso{position:fixed;top:0;left:0;right:0;min-width:100%;width:100vw;width:100dvw;min-height:100%;height:100vh;height:100dvh;background-color:rgba(40, 40, 40, 0.75);display:flex;flex-direction:column;justify-content:space-around;z-index:1000001}");
}
function Ti(t) {
  let e, r;
  const n = (
    /*#slots*/
    t[1].default
  ), i = Y(
    n,
    t,
    /*$$scope*/
    t[0],
    null
  );
  return {
    c() {
      e = k("div"), i && i.c(), _(e, "class", "rcb-modal-backdrop svelte-17tslso");
    },
    m(o, s) {
      p(o, e, s), i && i.m(e, null), r = !0;
    },
    p(o, [s]) {
      i && i.p && (!r || s & /*$$scope*/
      1) && K(
        i,
        n,
        o,
        /*$$scope*/
        o[0],
        r ? H(
          n,
          /*$$scope*/
          o[0],
          s,
          null
        ) : q(
          /*$$scope*/
          o[0]
        ),
        null
      );
    },
    i(o) {
      r || (u(i, o), r = !0);
    },
    o(o) {
      m(i, o), r = !1;
    },
    d(o) {
      o && g(e), i && i.d(o);
    }
  };
}
function Ni(t, e, r) {
  let { $$slots: n = {}, $$scope: i } = e;
  return t.$$set = (o) => {
    "$$scope" in o && r(0, i = o.$$scope);
  }, [i, n];
}
class Ui extends U {
  constructor(e) {
    super(), N(this, e, Ni, Ti, P, {}, Pi);
  }
}
function Ri(t) {
  O(t, "svelte-ioxu5d", ".rcb-modal-container.svelte-ioxu5d{width:100%}.rcb-modal-main.svelte-ioxu5d{box-sizing:border-box;border-radius:8px;background-color:var(--rc-color-white);color:var(--rc-color-grey-text-dark);min-height:460px;padding:40px;flex-direction:column;display:flex}.rcb-modal-dark.svelte-ioxu5d{background-color:var(--rc-color-grey-text-dark);color:var(--rc-color-white);min-height:0px}@media screen and (max-width: 960px){.rcb-modal-container.svelte-ioxu5d{width:calc(100% - 32px);min-width:300px;max-width:640px;margin:auto}.rcb-modal-main.svelte-ioxu5d,.rcb-modal-dark.svelte-ioxu5d{min-width:300px;max-width:640px;padding:32px}}");
}
function Si(t) {
  let e, r, n, i;
  const o = (
    /*#slots*/
    t[2].default
  ), s = Y(
    o,
    t,
    /*$$scope*/
    t[1],
    null
  );
  return {
    c() {
      e = k("div"), r = k("main"), s && s.c(), _(r, "class", n = Ie(`rcb-modal-main ${/*dark*/
      t[0] ? "rcb-modal-dark" : ""}`) + " svelte-ioxu5d"), _(e, "class", "rcb-modal-container svelte-ioxu5d");
    },
    m(l, c) {
      p(l, e, c), D(e, r), s && s.m(r, null), i = !0;
    },
    p(l, [c]) {
      s && s.p && (!i || c & /*$$scope*/
      2) && K(
        s,
        o,
        l,
        /*$$scope*/
        l[1],
        i ? H(
          o,
          /*$$scope*/
          l[1],
          c,
          null
        ) : q(
          /*$$scope*/
          l[1]
        ),
        null
      ), (!i || c & /*dark*/
      1 && n !== (n = Ie(`rcb-modal-main ${/*dark*/
      l[0] ? "rcb-modal-dark" : ""}`) + " svelte-ioxu5d")) && _(r, "class", n);
    },
    i(l) {
      i || (u(s, l), i = !0);
    },
    o(l) {
      m(s, l), i = !1;
    },
    d(l) {
      l && g(e), s && s.d(l);
    }
  };
}
function Oi(t, e, r) {
  let { $$slots: n = {}, $$scope: i } = e, { dark: o = !1 } = e;
  return t.$$set = (s) => {
    "dark" in s && r(0, o = s.dark), "$$scope" in s && r(1, i = s.$$scope);
  }, [o, i, n];
}
class Li extends U {
  constructor(e) {
    super(), N(this, e, Oi, Si, P, { dark: 0 }, Ri);
  }
}
function xi(t) {
  let e;
  const r = (
    /*#slots*/
    t[1].default
  ), n = Y(
    r,
    t,
    /*$$scope*/
    t[2],
    null
  );
  return {
    c() {
      n && n.c();
    },
    m(i, o) {
      n && n.m(i, o), e = !0;
    },
    p(i, o) {
      n && n.p && (!e || o & /*$$scope*/
      4) && K(
        n,
        r,
        i,
        /*$$scope*/
        i[2],
        e ? H(
          r,
          /*$$scope*/
          i[2],
          o,
          null
        ) : q(
          /*$$scope*/
          i[2]
        ),
        null
      );
    },
    i(i) {
      e || (u(n, i), e = !0);
    },
    o(i) {
      m(n, i), e = !1;
    },
    d(i) {
      n && n.d(i);
    }
  };
}
function Fi(t) {
  let e, r;
  return e = new Ui({
    props: {
      $$slots: { default: [Gi] },
      $$scope: { ctx: t }
    }
  }), {
    c() {
      w(e.$$.fragment);
    },
    m(n, i) {
      I(e, n, i), r = !0;
    },
    p(n, i) {
      const o = {};
      i & /*$$scope*/
      4 && (o.$$scope = { dirty: i, ctx: n }), e.$set(o);
    },
    i(n) {
      r || (u(e.$$.fragment, n), r = !0);
    },
    o(n) {
      m(e.$$.fragment, n), r = !1;
    },
    d(n) {
      b(e, n);
    }
  };
}
function Gi(t) {
  let e;
  const r = (
    /*#slots*/
    t[1].default
  ), n = Y(
    r,
    t,
    /*$$scope*/
    t[2],
    null
  );
  return {
    c() {
      n && n.c();
    },
    m(i, o) {
      n && n.m(i, o), e = !0;
    },
    p(i, o) {
      n && n.p && (!e || o & /*$$scope*/
      4) && K(
        n,
        r,
        i,
        /*$$scope*/
        i[2],
        e ? H(
          r,
          /*$$scope*/
          i[2],
          o,
          null
        ) : q(
          /*$$scope*/
          i[2]
        ),
        null
      );
    },
    i(i) {
      e || (u(n, i), e = !0);
    },
    o(i) {
      m(n, i), e = !1;
    },
    d(i) {
      n && n.d(i);
    }
  };
}
function Yi(t) {
  let e, r, n, i;
  const o = [Fi, xi], s = [];
  function l(c, a) {
    return (
      /*condition*/
      c[0] ? 0 : 1
    );
  }
  return e = l(t), r = s[e] = o[e](t), {
    c() {
      r.c(), n = ee();
    },
    m(c, a) {
      s[e].m(c, a), p(c, n, a), i = !0;
    },
    p(c, [a]) {
      let f = e;
      e = l(c), e === f ? s[e].p(c, a) : (L(), m(s[f], 1, 1, () => {
        s[f] = null;
      }), x(), r = s[e], r ? r.p(c, a) : (r = s[e] = o[e](c), r.c()), u(r, 1), r.m(n.parentNode, n));
    },
    i(c) {
      i || (u(r), i = !0);
    },
    o(c) {
      m(r), i = !1;
    },
    d(c) {
      c && g(n), s[e].d(c);
    }
  };
}
function Hi(t, e, r) {
  let { $$slots: n = {}, $$scope: i } = e, { condition: o = !1 } = e;
  return t.$$set = (s) => {
    "condition" in s && r(0, o = s.condition), "$$scope" in s && r(2, i = s.$$scope);
  }, [o, n, i];
}
class Ki extends U {
  constructor(e) {
    super(), N(this, e, Hi, Yi, P, { condition: 0 });
  }
}
const qi = (t) => ({}), ut = (t) => ({});
function ji(t) {
  let e, r;
  const n = (
    /*#slots*/
    t[1].header
  ), i = Y(
    n,
    t,
    /*$$scope*/
    t[2],
    ut
  ), o = (
    /*#slots*/
    t[1].default
  ), s = Y(
    o,
    t,
    /*$$scope*/
    t[2],
    null
  );
  return {
    c() {
      i && i.c(), e = T(), s && s.c();
    },
    m(l, c) {
      i && i.m(l, c), p(l, e, c), s && s.m(l, c), r = !0;
    },
    p(l, c) {
      i && i.p && (!r || c & /*$$scope*/
      4) && K(
        i,
        n,
        l,
        /*$$scope*/
        l[2],
        r ? H(
          n,
          /*$$scope*/
          l[2],
          c,
          qi
        ) : q(
          /*$$scope*/
          l[2]
        ),
        ut
      ), s && s.p && (!r || c & /*$$scope*/
      4) && K(
        s,
        o,
        l,
        /*$$scope*/
        l[2],
        r ? H(
          o,
          /*$$scope*/
          l[2],
          c,
          null
        ) : q(
          /*$$scope*/
          l[2]
        ),
        null
      );
    },
    i(l) {
      r || (u(i, l), u(s, l), r = !0);
    },
    o(l) {
      m(i, l), m(s, l), r = !1;
    },
    d(l) {
      l && g(e), i && i.d(l), s && s.d(l);
    }
  };
}
function Ji(t) {
  let e, r;
  return e = new Li({
    props: {
      dark: (
        /*dark*/
        t[0]
      ),
      $$slots: { default: [ji] },
      $$scope: { ctx: t }
    }
  }), {
    c() {
      w(e.$$.fragment);
    },
    m(n, i) {
      I(e, n, i), r = !0;
    },
    p(n, [i]) {
      const o = {};
      i & /*dark*/
      1 && (o.dark = /*dark*/
      n[0]), i & /*$$scope*/
      4 && (o.$$scope = { dirty: i, ctx: n }), e.$set(o);
    },
    i(n) {
      r || (u(e.$$.fragment, n), r = !0);
    },
    o(n) {
      m(e.$$.fragment, n), r = !1;
    },
    d(n) {
      b(e, n);
    }
  };
}
function Vi(t, e, r) {
  let { $$slots: n = {}, $$scope: i } = e, { dark: o = !1 } = e;
  return t.$$set = (s) => {
    "dark" in s && r(0, o = s.dark), "$$scope" in s && r(2, i = s.$$scope);
  }, [o, n, i];
}
class Nt extends U {
  constructor(e) {
    super(), N(this, e, Vi, Ji, P, { dark: 0 });
  }
}
var te = /* @__PURE__ */ ((t) => (t[t.UnknownError = 0] = "UnknownError", t[t.UserCancelledError = 1] = "UserCancelledError", t[t.StoreProblemError = 2] = "StoreProblemError", t[t.PurchaseNotAllowedError = 3] = "PurchaseNotAllowedError", t[t.PurchaseInvalidError = 4] = "PurchaseInvalidError", t[t.ProductNotAvailableForPurchaseError = 5] = "ProductNotAvailableForPurchaseError", t[t.ProductAlreadyPurchasedError = 6] = "ProductAlreadyPurchasedError", t[t.ReceiptAlreadyInUseError = 7] = "ReceiptAlreadyInUseError", t[t.InvalidReceiptError = 8] = "InvalidReceiptError", t[t.MissingReceiptFileError = 9] = "MissingReceiptFileError", t[t.NetworkError = 10] = "NetworkError", t[t.InvalidCredentialsError = 11] = "InvalidCredentialsError", t[t.UnexpectedBackendResponseError = 12] = "UnexpectedBackendResponseError", t[t.InvalidAppUserIdError = 14] = "InvalidAppUserIdError", t[t.OperationAlreadyInProgressError = 15] = "OperationAlreadyInProgressError", t[t.UnknownBackendError = 16] = "UnknownBackendError", t[t.InvalidAppleSubscriptionKeyError = 17] = "InvalidAppleSubscriptionKeyError", t[t.IneligibleError = 18] = "IneligibleError", t[t.InsufficientPermissionsError = 19] = "InsufficientPermissionsError", t[t.PaymentPendingError = 20] = "PaymentPendingError", t[t.InvalidSubscriberAttributesError = 21] = "InvalidSubscriberAttributesError", t[t.LogOutWithAnonymousUserError = 22] = "LogOutWithAnonymousUserError", t[t.ConfigurationError = 23] = "ConfigurationError", t[t.UnsupportedError = 24] = "UnsupportedError", t[t.EmptySubscriberAttributesError = 25] = "EmptySubscriberAttributesError", t[t.CustomerInfoError = 28] = "CustomerInfoError", t[t.SignatureVerificationError = 36] = "SignatureVerificationError", t))(te || {});
class Ee {
  static getPublicMessage(e) {
    switch (e) {
      case 0:
        return "Unknown error.";
      case 1:
        return "Purchase was cancelled.";
      case 2:
        return "There was a problem with the store.";
      case 3:
        return "The device or user is not allowed to make the purchase.";
      case 4:
        return "One or more of the arguments provided are invalid.";
      case 5:
        return "The product is not available for purchase.";
      case 6:
        return "This product is already active for the user.";
      case 7:
        return "There is already another active subscriber using the same receipt.";
      case 8:
        return "The receipt is not valid.";
      case 9:
        return "The receipt is missing.";
      case 10:
        return "Error performing request.";
      case 11:
        return "There was a credentials issue. Check the underlying error for more details.";
      case 12:
        return "Received unexpected response from the backend.";
      case 14:
        return "The app user id is not valid.";
      case 15:
        return "The operation is already in progress.";
      case 16:
        return "There was an unknown backend error.";
      case 17:
        return "Apple Subscription Key is invalid or not present. In order to provide subscription offers, you must first generate a subscription key. Please see https://docs.revenuecat.com/docs/ios-subscription-offers for more info.";
      case 18:
        return "The User is ineligible for that action.";
      case 19:
        return "App does not have sufficient permissions to make purchases.";
      case 20:
        return "The payment is pending.";
      case 21:
        return "One or more of the attributes sent could not be saved.";
      case 22:
        return "Called logOut but the current user is anonymous.";
      case 23:
        return "There is an issue with your configuration. Check the underlying error for more details.";
      case 24:
        return "There was a problem with the operation. Looks like we doesn't support that yet. Check the underlying error for more details.";
      case 25:
        return "A request for subscriber attributes returned none.";
      case 28:
        return "There was a problem related to the customer info.";
      case 36:
        return "Request failed signature verification. Please see https://rev.cat/trusted-entitlements for more info.";
    }
  }
  static getErrorCodeForBackendErrorCode(e) {
    switch (e) {
      case 7101:
        return 2;
      case 7102:
        return 7;
      case 7103:
        return 8;
      case 7107:
      case 7224:
      case 7225:
        return 11;
      case 7105:
      case 7106:
        return 4;
      case 7220:
        return 14;
      case 7229:
        return 2;
      case 7230:
      case 7e3:
        return 23;
      case 7231:
        return 2;
      case 7232:
        return 18;
      case 7263:
      case 7264:
        return 21;
      case 7104:
      case 7234:
      case 7226:
      case 7110:
        return 12;
      case 7662:
        return 24;
    }
  }
  static convertCodeToBackendErrorCode(e) {
    return e in Ut ? e : null;
  }
  static convertPurchaseFlowErrorCodeToErrorCode(e) {
    switch (e) {
      case S.ErrorSettingUpPurchase:
        return 2;
      case S.ErrorChargingPayment:
        return 20;
      case S.NetworkError:
        return 10;
      case S.MissingEmailError:
        return 4;
      case S.StripeError:
        return 2;
      case S.UnknownError:
        return 0;
    }
  }
}
var Ut = /* @__PURE__ */ ((t) => (t[t.BackendInvalidPlatform = 7e3] = "BackendInvalidPlatform", t[t.BackendStoreProblem = 7101] = "BackendStoreProblem", t[t.BackendCannotTransferPurchase = 7102] = "BackendCannotTransferPurchase", t[t.BackendInvalidReceiptToken = 7103] = "BackendInvalidReceiptToken", t[t.BackendInvalidAppStoreSharedSecret = 7104] = "BackendInvalidAppStoreSharedSecret", t[t.BackendInvalidPaymentModeOrIntroPriceNotProvided = 7105] = "BackendInvalidPaymentModeOrIntroPriceNotProvided", t[t.BackendProductIdForGoogleReceiptNotProvided = 7106] = "BackendProductIdForGoogleReceiptNotProvided", t[t.BackendInvalidPlayStoreCredentials = 7107] = "BackendInvalidPlayStoreCredentials", t[t.BackendInternalServerError = 7110] = "BackendInternalServerError", t[t.BackendEmptyAppUserId = 7220] = "BackendEmptyAppUserId", t[t.BackendInvalidAuthToken = 7224] = "BackendInvalidAuthToken", t[t.BackendInvalidAPIKey = 7225] = "BackendInvalidAPIKey", t[t.BackendBadRequest = 7226] = "BackendBadRequest", t[t.BackendPlayStoreQuotaExceeded = 7229] = "BackendPlayStoreQuotaExceeded", t[t.BackendPlayStoreInvalidPackageName = 7230] = "BackendPlayStoreInvalidPackageName", t[t.BackendPlayStoreGenericError = 7231] = "BackendPlayStoreGenericError", t[t.BackendUserIneligibleForPromoOffer = 7232] = "BackendUserIneligibleForPromoOffer", t[t.BackendInvalidAppleSubscriptionKey = 7234] = "BackendInvalidAppleSubscriptionKey", t[t.BackendInvalidSubscriberAttributes = 7263] = "BackendInvalidSubscriberAttributes", t[t.BackendInvalidSubscriberAttributesBody = 7264] = "BackendInvalidSubscriberAttributesBody", t[t.BackendProductIDsMalformed = 7662] = "BackendProductIDsMalformed", t))(Ut || {});
class X extends Error {
  constructor(r, n, i) {
    super(n);
    Q(this, "toString", () => `PurchasesError(code: ${te[this.errorCode]}, message: ${this.message})`);
    this.errorCode = r, this.underlyingErrorMessage = i;
  }
  /** @internal */
  static getForBackendError(r, n) {
    const i = Ee.getErrorCodeForBackendErrorCode(r);
    return new X(
      i,
      Ee.getPublicMessage(i),
      n
    );
  }
  /** @internal */
  static getForPurchasesFlowError(r) {
    return new X(
      Ee.convertPurchaseFlowErrorCodeToErrorCode(
        r.errorCode
      ),
      r.message,
      r.underlyingErrorMessage
    );
  }
}
class Wi extends Error {
  constructor() {
    super("Purchases must be configured before calling getInstance");
  }
}
const zi = "0.2.1", fe = "https://api.revenuecat.com";
var Ue;
(function(t) {
  t[t.CONTINUE = 100] = "CONTINUE", t[t.SWITCHING_PROTOCOLS = 101] = "SWITCHING_PROTOCOLS", t[t.PROCESSING = 102] = "PROCESSING", t[t.EARLY_HINTS = 103] = "EARLY_HINTS", t[t.OK = 200] = "OK", t[t.CREATED = 201] = "CREATED", t[t.ACCEPTED = 202] = "ACCEPTED", t[t.NON_AUTHORITATIVE_INFORMATION = 203] = "NON_AUTHORITATIVE_INFORMATION", t[t.NO_CONTENT = 204] = "NO_CONTENT", t[t.RESET_CONTENT = 205] = "RESET_CONTENT", t[t.PARTIAL_CONTENT = 206] = "PARTIAL_CONTENT", t[t.MULTI_STATUS = 207] = "MULTI_STATUS", t[t.MULTIPLE_CHOICES = 300] = "MULTIPLE_CHOICES", t[t.MOVED_PERMANENTLY = 301] = "MOVED_PERMANENTLY", t[t.MOVED_TEMPORARILY = 302] = "MOVED_TEMPORARILY", t[t.SEE_OTHER = 303] = "SEE_OTHER", t[t.NOT_MODIFIED = 304] = "NOT_MODIFIED", t[t.USE_PROXY = 305] = "USE_PROXY", t[t.TEMPORARY_REDIRECT = 307] = "TEMPORARY_REDIRECT", t[t.PERMANENT_REDIRECT = 308] = "PERMANENT_REDIRECT", t[t.BAD_REQUEST = 400] = "BAD_REQUEST", t[t.UNAUTHORIZED = 401] = "UNAUTHORIZED", t[t.PAYMENT_REQUIRED = 402] = "PAYMENT_REQUIRED", t[t.FORBIDDEN = 403] = "FORBIDDEN", t[t.NOT_FOUND = 404] = "NOT_FOUND", t[t.METHOD_NOT_ALLOWED = 405] = "METHOD_NOT_ALLOWED", t[t.NOT_ACCEPTABLE = 406] = "NOT_ACCEPTABLE", t[t.PROXY_AUTHENTICATION_REQUIRED = 407] = "PROXY_AUTHENTICATION_REQUIRED", t[t.REQUEST_TIMEOUT = 408] = "REQUEST_TIMEOUT", t[t.CONFLICT = 409] = "CONFLICT", t[t.GONE = 410] = "GONE", t[t.LENGTH_REQUIRED = 411] = "LENGTH_REQUIRED", t[t.PRECONDITION_FAILED = 412] = "PRECONDITION_FAILED", t[t.REQUEST_TOO_LONG = 413] = "REQUEST_TOO_LONG", t[t.REQUEST_URI_TOO_LONG = 414] = "REQUEST_URI_TOO_LONG", t[t.UNSUPPORTED_MEDIA_TYPE = 415] = "UNSUPPORTED_MEDIA_TYPE", t[t.REQUESTED_RANGE_NOT_SATISFIABLE = 416] = "REQUESTED_RANGE_NOT_SATISFIABLE", t[t.EXPECTATION_FAILED = 417] = "EXPECTATION_FAILED", t[t.IM_A_TEAPOT = 418] = "IM_A_TEAPOT", t[t.INSUFFICIENT_SPACE_ON_RESOURCE = 419] = "INSUFFICIENT_SPACE_ON_RESOURCE", t[t.METHOD_FAILURE = 420] = "METHOD_FAILURE", t[t.MISDIRECTED_REQUEST = 421] = "MISDIRECTED_REQUEST", t[t.UNPROCESSABLE_ENTITY = 422] = "UNPROCESSABLE_ENTITY", t[t.LOCKED = 423] = "LOCKED", t[t.FAILED_DEPENDENCY = 424] = "FAILED_DEPENDENCY", t[t.UPGRADE_REQUIRED = 426] = "UPGRADE_REQUIRED", t[t.PRECONDITION_REQUIRED = 428] = "PRECONDITION_REQUIRED", t[t.TOO_MANY_REQUESTS = 429] = "TOO_MANY_REQUESTS", t[t.REQUEST_HEADER_FIELDS_TOO_LARGE = 431] = "REQUEST_HEADER_FIELDS_TOO_LARGE", t[t.UNAVAILABLE_FOR_LEGAL_REASONS = 451] = "UNAVAILABLE_FOR_LEGAL_REASONS", t[t.INTERNAL_SERVER_ERROR = 500] = "INTERNAL_SERVER_ERROR", t[t.NOT_IMPLEMENTED = 501] = "NOT_IMPLEMENTED", t[t.BAD_GATEWAY = 502] = "BAD_GATEWAY", t[t.SERVICE_UNAVAILABLE = 503] = "SERVICE_UNAVAILABLE", t[t.GATEWAY_TIMEOUT = 504] = "GATEWAY_TIMEOUT", t[t.HTTP_VERSION_NOT_SUPPORTED = 505] = "HTTP_VERSION_NOT_SUPPORTED", t[t.INSUFFICIENT_STORAGE = 507] = "INSUFFICIENT_STORAGE", t[t.NETWORK_AUTHENTICATION_REQUIRED = 511] = "NETWORK_AUTHENTICATION_REQUIRED";
})(Ue || (Ue = {}));
function je(t) {
  return t ? t.startsWith("rcb_sb_") : !1;
}
async function se(t, e, r, n) {
  try {
    const i = await fetch(t.url(), {
      method: t.method,
      headers: eo(e, n),
      body: Zi(r)
    });
    return await Xi(i, t), await i.json();
  } catch (i) {
    throw i instanceof TypeError ? new X(
      te.NetworkError,
      Ee.getPublicMessage(te.NetworkError),
      i.message
    ) : i;
  }
}
async function Xi(t, e) {
  const r = t.status;
  if (r >= Ue.INTERNAL_SERVER_ERROR)
    Ge(e, r, await t.text());
  else if (r >= Ue.BAD_REQUEST) {
    const n = await t.json(), i = n ? JSON.stringify(n) : null, o = n == null ? void 0 : n.code, s = n == null ? void 0 : n.message;
    if (o != null) {
      const l = Ee.convertCodeToBackendErrorCode(o);
      if (l == null)
        Ge(e, r, i);
      else
        throw X.getForBackendError(
          l,
          s
        );
    } else
      Ge(e, r, i);
  }
}
function Ge(t, e, r) {
  throw new X(
    te.UnknownBackendError,
    `Unknown backend error. Request: ${t.name}. Status code: ${e}. Body: ${r}.`
  );
}
function Zi(t) {
  return t == null ? null : JSON.stringify(t);
}
function eo(t, e) {
  let r = {
    Authorization: `Bearer ${t}`,
    "Content-Type": "application/json",
    Accept: "application/json",
    "X-Platform": "web",
    "X-Version": zi,
    "X-Is-Sandbox": `${je(t)}`
  };
  return e != null && (r = { ...r, ...e }), r;
}
const Rt = "/v1/subscribers", Oe = "/rcbilling/v1";
class to {
  constructor(e) {
    Q(this, "appUserId");
    Q(this, "method", "GET");
    Q(this, "name", "getOfferings");
    this.appUserId = e;
  }
  url() {
    const e = encodeURIComponent(this.appUserId);
    return `${fe}${Rt}/${e}/offerings`;
  }
}
class no {
  constructor() {
    Q(this, "method", "POST");
    Q(this, "name", "subscribe");
  }
  url() {
    return `${fe}${Oe}/subscribe`;
  }
}
class ro {
  constructor(e, r) {
    Q(this, "method", "GET");
    Q(this, "name", "getProducts");
    Q(this, "appUserId");
    Q(this, "productIds");
    this.appUserId = e, this.productIds = r;
  }
  url() {
    const e = encodeURIComponent(this.appUserId), r = this.productIds.map(encodeURIComponent).join("&id=");
    return `${fe}${Oe}/subscribers/${e}/products?id=${r}`;
  }
}
class io {
  constructor(e) {
    Q(this, "method", "GET");
    Q(this, "name", "getCustomerInfo");
    Q(this, "appUserId");
    this.appUserId = e;
  }
  url() {
    const e = encodeURIComponent(this.appUserId);
    return `${fe}${Rt}/${e}`;
  }
}
class oo {
  constructor() {
    Q(this, "method", "GET");
    Q(this, "name", "getBrandingInfo");
  }
  url() {
    return `${fe}${Oe}/branding`;
  }
}
class so {
  constructor(e) {
    Q(this, "method", "GET");
    Q(this, "name", "getCheckoutStatus");
    Q(this, "operationSessionId");
    this.operationSessionId = e;
  }
  url() {
    return `${fe}${Oe}/checkout/${this.operationSessionId}`;
  }
}
class lo {
  constructor(e) {
    Q(this, "API_KEY");
    this.API_KEY = e;
  }
  async getOfferings(e) {
    return await se(
      new to(e),
      this.API_KEY
    );
  }
  async getCustomerInfo(e) {
    return await se(
      new io(e),
      this.API_KEY
    );
  }
  async getProducts(e, r) {
    return await se(
      new ro(e, r),
      this.API_KEY
    );
  }
  async getBrandingInfo() {
    return await se(
      new oo(),
      this.API_KEY
    );
  }
  async postSubscribe(e, r, n, i) {
    return await se(
      new no(),
      this.API_KEY,
      {
        app_user_id: e,
        product_id: r,
        email: n,
        presented_offering_identifier: i
      }
    );
  }
  async getCheckoutStatus(e) {
    return await se(
      new so(e),
      this.API_KEY
    );
  }
}
const co = "data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20opacity='0.5'%20clip-path='url(%23clip0_344_3390)'%3e%3cpath%20d='M7%2018C5.9%2018%205.01%2018.9%205.01%2020C5.01%2021.1%205.9%2022%207%2022C8.1%2022%209%2021.1%209%2020C9%2018.9%208.1%2018%207%2018ZM1%202V4H3L6.6%2011.59L5.25%2014.04C5.09%2014.32%205%2014.65%205%2015C5%2016.1%205.9%2017%207%2017H19V15H7.42C7.28%2015%207.17%2014.89%207.17%2014.75L7.2%2014.63L8.1%2013H15.55C16.3%2013%2016.96%2012.59%2017.3%2011.97L20.88%205.48C20.96%205.34%2021%205.17%2021%205C21%204.45%2020.55%204%2020%204H5.21L4.27%202H1ZM17%2018C15.9%2018%2015.01%2018.9%2015.01%2020C15.01%2021.1%2015.9%2022%2017%2022C18.1%2022%2019%2021.1%2019%2020C19%2018.9%2018.1%2018%2017%2018Z'%20fill='white'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_344_3390'%3e%3crect%20width='24'%20height='24'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e";
function ao(t) {
  let e, r;
  return {
    c() {
      e = k("img"), Z(e.src, r = co) || _(e, "src", r), _(e, "alt", "icon"), _(e, "class", "rcb-ui-asset-icon");
    },
    m(n, i) {
      p(n, e, i);
    },
    p: y,
    i: y,
    o: y,
    d(n) {
      n && g(e);
    }
  };
}
class uo extends U {
  constructor(e) {
    super(), N(this, e, null, ao, P, {});
  }
}
function fo(t) {
  O(t, "svelte-1rhrjxe", "div.svelte-1rhrjxe{background-color:var(--rc-color-warning);color:var(--rc-color-grey-text-dark);font-size:10px;font-weight:bold;text-transform:uppercase;padding:4px 10px;line-height:10px;border-radius:9px;margin:0px;margin-left:16px}");
}
function mo(t) {
  let e;
  return {
    c() {
      e = k("div"), e.textContent = "Sandbox", _(e, "class", "svelte-1rhrjxe");
    },
    m(r, n) {
      p(r, e, n);
    },
    p: y,
    i: y,
    o: y,
    d(r) {
      r && g(e);
    }
  };
}
class go extends U {
  constructor(e) {
    super(), N(this, e, null, mo, P, {}, fo);
  }
}
function po(t) {
  O(t, "svelte-13pdaik", `.rcb-ui-container.svelte-13pdaik{color-scheme:none;font-size:16px;line-height:1.5em;font-weight:400;font-family:-apple-system, "system-ui", "Segoe UI", Roboto, Oxygen, Ubuntu,
      Cantarell, "Open Sans", "Helvetica Neue", sans-serif}.rcb-ui-layout.svelte-13pdaik{width:100vw;width:100dvw;margin-right:auto;display:flex;justify-content:center;align-items:flex-start;position:relative;padding:0px 80px;box-sizing:border-box}.rcb-ui-aside.svelte-13pdaik{margin-right:16px;flex:320px 1 0;max-width:480px}.rcb-ui-main.svelte-13pdaik{flex:480px 1 0;max-width:640px}@media screen and (max-width: 960px){.rcb-ui-layout.svelte-13pdaik{flex-direction:column;align-items:center;justify-content:center;height:100%;min-width:100%}.rcb-ui-aside.svelte-13pdaik{margin-right:0;margin-bottom:16px;min-width:100%;display:flex;flex-direction:column;align-items:center;flex:none;max-width:none}.rcb-ui-main.svelte-13pdaik{flex:none;max-width:none;min-width:100%}}@media screen and (max-width: 960px) and (max-height: 960px){.rcb-ui-layout.svelte-13pdaik{overflow-y:scroll;justify-content:flex-start;padding:16px 0px}}`);
}
function ft(t) {
  let e, r, n;
  return r = new Nt({
    props: {
      dark: !0,
      $$slots: {
        header: [Io],
        default: [_o]
      },
      $$scope: { ctx: t }
    }
  }), {
    c() {
      e = k("div"), w(r.$$.fragment), _(e, "class", "rcb-ui-aside svelte-13pdaik");
    },
    m(i, o) {
      p(i, e, o), I(r, e, null), n = !0;
    },
    p(i, o) {
      const s = {};
      o & /*$$scope, purchases, brandingInfo, productDetails*/
      8388622 && (s.$$scope = { dirty: o, ctx: i }), r.$set(s);
    },
    i(i) {
      n || (u(r.$$.fragment, i), n = !0);
    },
    o(i) {
      m(r.$$.fragment, i), n = !1;
    },
    d(i) {
      i && g(e), b(r);
    }
  };
}
function dt(t) {
  let e, r;
  return e = new yt({
    props: {
      productDetails: (
        /*productDetails*/
        t[2]
      )
    }
  }), {
    c() {
      w(e.$$.fragment);
    },
    m(n, i) {
      I(e, n, i), r = !0;
    },
    p(n, i) {
      const o = {};
      i & /*productDetails*/
      4 && (o.productDetails = /*productDetails*/
      n[2]), e.$set(o);
    },
    i(n) {
      r || (u(e.$$.fragment, n), r = !0);
    },
    o(n) {
      m(e.$$.fragment, n), r = !1;
    },
    d(n) {
      b(e, n);
    }
  };
}
function _o(t) {
  let e, r, n = (
    /*productDetails*/
    t[2] && dt(t)
  );
  return {
    c() {
      n && n.c(), e = ee();
    },
    m(i, o) {
      n && n.m(i, o), p(i, e, o), r = !0;
    },
    p(i, o) {
      /*productDetails*/
      i[2] ? n ? (n.p(i, o), o & /*productDetails*/
      4 && u(n, 1)) : (n = dt(i), n.c(), u(n, 1), n.m(e.parentNode, e)) : n && (L(), m(n, 1, 1, () => {
        n = null;
      }), x());
    },
    i(i) {
      r || (u(n), r = !0);
    },
    o(i) {
      m(n), r = !1;
    },
    d(i) {
      i && g(e), n && n.d(i);
    }
  };
}
function Ao(t) {
  let e, r;
  return e = new uo({}), {
    c() {
      w(e.$$.fragment);
    },
    m(n, i) {
      I(e, n, i), r = !0;
    },
    i(n) {
      r || (u(e.$$.fragment, n), r = !0);
    },
    o(n) {
      m(e.$$.fragment, n), r = !1;
    },
    d(n) {
      b(e, n);
    }
  };
}
function ho(t) {
  let e, r;
  return e = new go({}), {
    c() {
      w(e.$$.fragment);
    },
    m(n, i) {
      I(e, n, i), r = !0;
    },
    i(n) {
      r || (u(e.$$.fragment, n), r = !0);
    },
    o(n) {
      m(e.$$.fragment, n), r = !1;
    },
    d(n) {
      b(e, n);
    }
  };
}
function Eo(t) {
  let e, r, n, i, o, s, l;
  e = new Dt({
    props: { brandingInfo: (
      /*brandingInfo*/
      t[3]
    ) }
  });
  const c = [ho, Ao], a = [];
  function f(d, E) {
    return E & /*purchases*/
    2 && (n = null), n == null && (n = !!/*purchases*/
    d[1].isSandbox()), n ? 0 : 1;
  }
  return i = f(t, -1), o = a[i] = c[i](t), {
    c() {
      w(e.$$.fragment), r = T(), o.c(), s = ee();
    },
    m(d, E) {
      I(e, d, E), p(d, r, E), a[i].m(d, E), p(d, s, E), l = !0;
    },
    p(d, E) {
      const v = {};
      E & /*brandingInfo*/
      8 && (v.brandingInfo = /*brandingInfo*/
      d[3]), e.$set(v);
      let A = i;
      i = f(d, E), i !== A && (L(), m(a[A], 1, 1, () => {
        a[A] = null;
      }), x(), o = a[i], o || (o = a[i] = c[i](d), o.c()), u(o, 1), o.m(s.parentNode, s));
    },
    i(d) {
      l || (u(e.$$.fragment, d), u(o), l = !0);
    },
    o(d) {
      m(e.$$.fragment, d), m(o), l = !1;
    },
    d(d) {
      d && (g(r), g(s)), b(e, d), a[i].d(d);
    }
  };
}
function Io(t) {
  let e, r;
  return e = new We({
    props: {
      slot: "header",
      $$slots: { default: [Eo] },
      $$scope: { ctx: t }
    }
  }), {
    c() {
      w(e.$$.fragment);
    },
    m(n, i) {
      I(e, n, i), r = !0;
    },
    p(n, i) {
      const o = {};
      i & /*$$scope, purchases, brandingInfo*/
      8388618 && (o.$$scope = { dirty: i, ctx: n }), e.$set(o);
    },
    i(n) {
      r || (u(e.$$.fragment, n), r = !0);
    },
    o(n) {
      m(e.$$.fragment, n), r = !1;
    },
    d(n) {
      b(e, n);
    }
  };
}
function mt(t) {
  let e, r;
  return e = new yt({
    props: {
      productDetails: (
        /*productDetails*/
        t[2]
      )
    }
  }), {
    c() {
      w(e.$$.fragment);
    },
    m(n, i) {
      I(e, n, i), r = !0;
    },
    p(n, i) {
      const o = {};
      i & /*productDetails*/
      4 && (o.productDetails = /*productDetails*/
      n[2]), e.$set(o);
    },
    i(n) {
      r || (u(e.$$.fragment, n), r = !0);
    },
    o(n) {
      m(e.$$.fragment, n), r = !1;
    },
    d(n) {
      b(e, n);
    }
  };
}
function gt(t) {
  let e, r;
  return e = new Je({}), {
    c() {
      w(e.$$.fragment);
    },
    m(n, i) {
      I(e, n, i), r = !0;
    },
    i(n) {
      r || (u(e.$$.fragment, n), r = !0);
    },
    o(n) {
      m(e.$$.fragment, n), r = !1;
    },
    d(n) {
      b(e, n);
    }
  };
}
function pt(t) {
  let e, r;
  return e = new Qi({
    props: {
      onContinue: (
        /*handleContinue*/
        t[10]
      ),
      onClose: (
        /*handleClose*/
        t[9]
      ),
      processing: (
        /*state*/
        t[6] === "processing-auth-info"
      )
    }
  }), {
    c() {
      w(e.$$.fragment);
    },
    m(n, i) {
      I(e, n, i), r = !0;
    },
    p(n, i) {
      const o = {};
      i & /*state*/
      64 && (o.processing = /*state*/
      n[6] === "processing-auth-info"), e.$set(o);
    },
    i(n) {
      r || (u(e.$$.fragment, n), r = !0);
    },
    o(n) {
      m(e.$$.fragment, n), r = !1;
    },
    d(n) {
      b(e, n);
    }
  };
}
function _t(t) {
  let e, r;
  return e = new Ei({
    props: {
      paymentInfoCollectionMetadata: (
        /*paymentInfoCollectionMetadata*/
        t[4]
      ),
      onContinue: (
        /*handleContinue*/
        t[10]
      ),
      onClose: (
        /*handleClose*/
        t[9]
      ),
      onError: (
        /*handleError*/
        t[11]
      ),
      processing: (
        /*state*/
        t[6] === "polling-purchase-status"
      )
    }
  }), {
    c() {
      w(e.$$.fragment);
    },
    m(n, i) {
      I(e, n, i), r = !0;
    },
    p(n, i) {
      const o = {};
      i & /*paymentInfoCollectionMetadata*/
      16 && (o.paymentInfoCollectionMetadata = /*paymentInfoCollectionMetadata*/
      n[4]), i & /*state*/
      64 && (o.processing = /*state*/
      n[6] === "polling-purchase-status"), e.$set(o);
    },
    i(n) {
      r || (u(e.$$.fragment, n), r = !0);
    },
    o(n) {
      m(e.$$.fragment, n), r = !1;
    },
    d(n) {
      b(e, n);
    }
  };
}
function At(t) {
  let e, r;
  return e = new Je({}), {
    c() {
      w(e.$$.fragment);
    },
    m(n, i) {
      I(e, n, i), r = !0;
    },
    i(n) {
      r || (u(e.$$.fragment, n), r = !0);
    },
    o(n) {
      m(e.$$.fragment, n), r = !1;
    },
    d(n) {
      b(e, n);
    }
  };
}
function ht(t) {
  var n;
  let e, r;
  return e = new kr({
    props: {
      brandingInfo: (
        /*brandingInfo*/
        t[3]
      ),
      lastError: (
        /*lastError*/
        t[5] ?? new G(S.UnknownError, "Unknown error without state set.")
      ),
      supportEmail: (
        /*brandingInfo*/
        (n = t[3]) == null ? void 0 : n.seller_company_support_email
      ),
      onContinue: (
        /*closeWithError*/
        t[12]
      )
    }
  }), {
    c() {
      w(e.$$.fragment);
    },
    m(i, o) {
      I(e, i, o), r = !0;
    },
    p(i, o) {
      var l;
      const s = {};
      o & /*brandingInfo*/
      8 && (s.brandingInfo = /*brandingInfo*/
      i[3]), o & /*lastError*/
      32 && (s.lastError = /*lastError*/
      i[5] ?? new G(S.UnknownError, "Unknown error without state set.")), o & /*brandingInfo*/
      8 && (s.supportEmail = /*brandingInfo*/
      (l = i[3]) == null ? void 0 : l.seller_company_support_email), e.$set(s);
    },
    i(i) {
      r || (u(e.$$.fragment, i), r = !0);
    },
    o(i) {
      m(e.$$.fragment, i), r = !1;
    },
    d(i) {
      b(e, i);
    }
  };
}
function Et(t) {
  let e, r;
  return e = new Pr({
    props: {
      brandingInfo: (
        /*brandingInfo*/
        t[3]
      ),
      onContinue: (
        /*handleContinue*/
        t[10]
      )
    }
  }), {
    c() {
      w(e.$$.fragment);
    },
    m(n, i) {
      I(e, n, i), r = !0;
    },
    p(n, i) {
      const o = {};
      i & /*brandingInfo*/
      8 && (o.brandingInfo = /*brandingInfo*/
      n[3]), e.$set(o);
    },
    i(n) {
      r || (u(e.$$.fragment, n), r = !0);
    },
    o(n) {
      m(e.$$.fragment, n), r = !1;
    },
    d(n) {
      b(e, n);
    }
  };
}
function bo(t) {
  let e, r, n, i, o, s, l, c, a = (
    /*state*/
    t[6] === "present-offer" && /*productDetails*/
    t[2] && mt(t)
  ), f = (
    /*state*/
    t[6] === "present-offer" && !/*productDetails*/
    t[2] && gt()
  ), d = (
    /*state*/
    (t[6] === "needs-auth-info" || /*state*/
    t[6] === "processing-auth-info") && pt(t)
  ), E = (
    /*paymentInfoCollectionMetadata*/
    t[4] && /*state*/
    (t[6] === "needs-payment-info" || /*state*/
    t[6] === "polling-purchase-status") && _t(t)
  ), v = (
    /*state*/
    t[6] === "loading" && At()
  ), A = (
    /*state*/
    t[6] === "error" && ht(t)
  ), M = (
    /*state*/
    t[6] === "success" && Et(t)
  );
  return {
    c() {
      a && a.c(), e = T(), f && f.c(), r = T(), d && d.c(), n = T(), E && E.c(), i = T(), v && v.c(), o = T(), A && A.c(), s = T(), M && M.c(), l = ee();
    },
    m(h, B) {
      a && a.m(h, B), p(h, e, B), f && f.m(h, B), p(h, r, B), d && d.m(h, B), p(h, n, B), E && E.m(h, B), p(h, i, B), v && v.m(h, B), p(h, o, B), A && A.m(h, B), p(h, s, B), M && M.m(h, B), p(h, l, B), c = !0;
    },
    p(h, B) {
      /*state*/
      h[6] === "present-offer" && /*productDetails*/
      h[2] ? a ? (a.p(h, B), B & /*state, productDetails*/
      68 && u(a, 1)) : (a = mt(h), a.c(), u(a, 1), a.m(e.parentNode, e)) : a && (L(), m(a, 1, 1, () => {
        a = null;
      }), x()), /*state*/
      h[6] === "present-offer" && !/*productDetails*/
      h[2] ? f ? B & /*state, productDetails*/
      68 && u(f, 1) : (f = gt(), f.c(), u(f, 1), f.m(r.parentNode, r)) : f && (L(), m(f, 1, 1, () => {
        f = null;
      }), x()), /*state*/
      h[6] === "needs-auth-info" || /*state*/
      h[6] === "processing-auth-info" ? d ? (d.p(h, B), B & /*state*/
      64 && u(d, 1)) : (d = pt(h), d.c(), u(d, 1), d.m(n.parentNode, n)) : d && (L(), m(d, 1, 1, () => {
        d = null;
      }), x()), /*paymentInfoCollectionMetadata*/
      h[4] && /*state*/
      (h[6] === "needs-payment-info" || /*state*/
      h[6] === "polling-purchase-status") ? E ? (E.p(h, B), B & /*paymentInfoCollectionMetadata, state*/
      80 && u(E, 1)) : (E = _t(h), E.c(), u(E, 1), E.m(i.parentNode, i)) : E && (L(), m(E, 1, 1, () => {
        E = null;
      }), x()), /*state*/
      h[6] === "loading" ? v ? B & /*state*/
      64 && u(v, 1) : (v = At(), v.c(), u(v, 1), v.m(o.parentNode, o)) : v && (L(), m(v, 1, 1, () => {
        v = null;
      }), x()), /*state*/
      h[6] === "error" ? A ? (A.p(h, B), B & /*state*/
      64 && u(A, 1)) : (A = ht(h), A.c(), u(A, 1), A.m(s.parentNode, s)) : A && (L(), m(A, 1, 1, () => {
        A = null;
      }), x()), /*state*/
      h[6] === "success" ? M ? (M.p(h, B), B & /*state*/
      64 && u(M, 1)) : (M = Et(h), M.c(), u(M, 1), M.m(l.parentNode, l)) : M && (L(), m(M, 1, 1, () => {
        M = null;
      }), x());
    },
    i(h) {
      c || (u(a), u(f), u(d), u(E), u(v), u(A), u(M), c = !0);
    },
    o(h) {
      m(a), m(f), m(d), m(E), m(v), m(A), m(M), c = !1;
    },
    d(h) {
      h && (g(e), g(r), g(n), g(i), g(o), g(s), g(l)), a && a.d(h), f && f.d(h), d && d.d(h), E && E.d(h), v && v.d(h), A && A.d(h), M && M.d(h);
    }
  };
}
function wo(t) {
  let e, r = (
    /*statesWhereOfferDetailsAreShown*/
    t[8].includes(
      /*state*/
      t[6]
    )
  ), n, i, o, s, l = r && ft(t);
  return o = new Nt({
    props: {
      $$slots: { default: [bo] },
      $$scope: { ctx: t }
    }
  }), {
    c() {
      e = k("div"), l && l.c(), n = T(), i = k("div"), w(o.$$.fragment), _(i, "class", "rcb-ui-main svelte-13pdaik"), _(e, "class", "rcb-ui-layout svelte-13pdaik"), _(
        e,
        "style",
        /*colorVariables*/
        t[7]
      );
    },
    m(c, a) {
      p(c, e, a), l && l.m(e, null), D(e, n), D(e, i), I(o, i, null), s = !0;
    },
    p(c, a) {
      a & /*state*/
      64 && (r = /*statesWhereOfferDetailsAreShown*/
      c[8].includes(
        /*state*/
        c[6]
      )), r ? l ? (l.p(c, a), a & /*state*/
      64 && u(l, 1)) : (l = ft(c), l.c(), u(l, 1), l.m(e, n)) : l && (L(), m(l, 1, 1, () => {
        l = null;
      }), x());
      const f = {};
      a & /*$$scope, brandingInfo, state, lastError, paymentInfoCollectionMetadata, productDetails*/
      8388732 && (f.$$scope = { dirty: a, ctx: c }), o.$set(f);
    },
    i(c) {
      s || (u(l), u(o.$$.fragment, c), s = !0);
    },
    o(c) {
      m(l), m(o.$$.fragment, c), s = !1;
    },
    d(c) {
      c && g(e), l && l.d(), b(o);
    }
  };
}
function ko(t) {
  let e, r, n;
  return r = new Ki({
    props: {
      condition: (
        /*asModal*/
        t[0]
      ),
      $$slots: { default: [wo] },
      $$scope: { ctx: t }
    }
  }), {
    c() {
      e = k("div"), w(r.$$.fragment), _(e, "class", "rcb-ui-container svelte-13pdaik");
    },
    m(i, o) {
      p(i, e, o), I(r, e, null), n = !0;
    },
    p(i, [o]) {
      const s = {};
      o & /*asModal*/
      1 && (s.condition = /*asModal*/
      i[0]), o & /*$$scope, brandingInfo, state, lastError, paymentInfoCollectionMetadata, productDetails, purchases*/
      8388734 && (s.$$scope = { dirty: o, ctx: i }), r.$set(s);
    },
    i(i) {
      n || (u(r.$$.fragment, i), n = !0);
    },
    o(i) {
      m(r.$$.fragment, i), n = !1;
    },
    d(i) {
      i && g(e), b(r);
    }
  };
}
function $o(t, e, r) {
  var ze;
  let { asModal: n = !0 } = e, { customerEmail: i } = e, { appUserId: o } = e, { rcPackage: s } = e, { onFinished: l } = e, { onError: c } = e, { onClose: a } = e, { purchases: f } = e, { backend: d } = e, { purchaseOperationHelper: E } = e;
  const v = Object.entries(Ae).map(([C, Le]) => `--rc-color-${C}: ${Le}`).join("; ");
  let A = null, M = null, h = null, B = null;
  const F = ((ze = s.rcBillingProduct) == null ? void 0 : ze.identifier) ?? null;
  let $ = "present-offer";
  const de = [
    "present-offer",
    "needs-auth-info",
    "processing-auth-info",
    "needs-payment-info",
    "polling-purchase-status",
    "loading"
  ];
  Se(async () => {
    if (r(2, A = s.rcBillingProduct), r(3, M = await d.getBrandingInfo()), $ === "present-offer") {
      i ? ie() : r(6, $ = "needs-auth-info");
      return;
    }
  });
  const ye = () => {
    a();
  }, ie = () => {
    if (F === null) {
      W(new G(S.ErrorSettingUpPurchase, "Product ID was not set before purchase."));
      return;
    } else
      $ === "present-offer" && r(6, $ = "loading");
    if (!i) {
      W(new G(S.MissingEmailError));
      return;
    }
    E.startPurchase(o, F, i, s.rcBillingProduct.presentedOfferingIdentifier).then((C) => {
      if (C.next_action === "collect_payment_info") {
        r(6, $ = "needs-payment-info"), r(4, h = C);
        return;
      }
      if (C.next_action === "completed") {
        r(6, $ = "success");
        return;
      }
    }).catch((C) => {
      W(new G(S.ErrorSettingUpPurchase, C.message, C.underlyingErrorMessage));
    });
  }, z = (C) => {
    if ($ === "needs-auth-info") {
      C && (r(13, i = C.email), r(6, $ = "processing-auth-info")), ie();
      return;
    }
    if ($ === "needs-payment-info") {
      r(6, $ = "polling-purchase-status"), E.pollCurrentPurchaseForCompletion().then(() => {
        r(6, $ = "success");
      }).catch((Le) => {
        W(Le);
      });
      return;
    }
    if ($ === "success" || $ === "error") {
      l();
      return;
    }
    r(6, $ = "success");
  }, W = (C) => {
    r(5, B = C), r(6, $ = "error");
  }, St = () => {
    c(B ?? new G(S.UnknownError, "Unknown error without state set."));
  };
  return t.$$set = (C) => {
    "asModal" in C && r(0, n = C.asModal), "customerEmail" in C && r(13, i = C.customerEmail), "appUserId" in C && r(14, o = C.appUserId), "rcPackage" in C && r(15, s = C.rcPackage), "onFinished" in C && r(16, l = C.onFinished), "onError" in C && r(17, c = C.onError), "onClose" in C && r(18, a = C.onClose), "purchases" in C && r(1, f = C.purchases), "backend" in C && r(19, d = C.backend), "purchaseOperationHelper" in C && r(20, E = C.purchaseOperationHelper);
  }, [
    n,
    f,
    A,
    M,
    h,
    B,
    $,
    v,
    de,
    ye,
    z,
    W,
    St,
    i,
    o,
    s,
    l,
    c,
    a,
    d,
    E
  ];
}
class vo extends U {
  constructor(e) {
    super(), N(
      this,
      e,
      $o,
      ko,
      P,
      {
        asModal: 0,
        customerEmail: 13,
        appUserId: 14,
        rcPackage: 15,
        onFinished: 16,
        onError: 17,
        onClose: 18,
        purchases: 1,
        backend: 19,
        purchaseOperationHelper: 20
      },
      po
    );
  }
}
function yo(t) {
  return t.expires_date == null ? !0 : new Date(t.expires_date) > /* @__PURE__ */ new Date();
}
function Bo(t, e, r, n) {
  const i = e.product_identifier;
  if (i in r)
    return Do(
      t,
      e,
      r[i]
    );
  if (i in n)
    return Co(
      t,
      e,
      n[i]
    );
  throw new X(
    te.CustomerInfoError,
    "Could not find entitlement product in subscriptions or non-subscriptions."
  );
}
function Do(t, e, r) {
  return {
    identifier: t,
    isActive: yo(e),
    willRenew: Po(e, r),
    store: (r == null ? void 0 : r.store) ?? "unknown",
    latestPurchaseDate: new Date(e.purchase_date),
    originalPurchaseDate: new Date(e.purchase_date),
    expirationDate: Te(e.expires_date),
    productIdentifier: e.product_identifier,
    unsubscribeDetectedAt: Te(
      r == null ? void 0 : r.unsubscribe_detected_at
    ),
    billingIssueDetectedAt: Te(
      r == null ? void 0 : r.billing_issues_detected_at
    ),
    isSandbox: (r == null ? void 0 : r.is_sandbox) ?? !1,
    periodType: (r == null ? void 0 : r.period_type) ?? "normal"
  };
}
function Co(t, e, r) {
  return {
    identifier: t,
    isActive: !0,
    willRenew: !1,
    store: r.store,
    latestPurchaseDate: new Date(e.purchase_date),
    originalPurchaseDate: new Date(
      r.original_purchase_date
    ),
    expirationDate: null,
    productIdentifier: e.product_identifier,
    unsubscribeDetectedAt: null,
    billingIssueDetectedAt: null,
    isSandbox: r.is_sandbox,
    periodType: "normal"
  };
}
function Mo(t, e, r) {
  const n = {}, i = {};
  for (const o in t) {
    const s = Bo(
      o,
      t[o],
      e,
      r
    );
    n[o] = s, s.isActive && (i[o] = s);
  }
  return {
    all: n,
    active: i
  };
}
function Te(t) {
  return t == null ? null : new Date(t);
}
function Qo(t) {
  const e = No(t), r = t.subscriber, n = Ro(
    r.non_subscriptions
  );
  return {
    entitlements: Mo(
      r.entitlements,
      r.subscriptions,
      n
    ),
    allExpirationDatesByProduct: e,
    allPurchaseDatesByProduct: To(
      t,
      n
    ),
    activeSubscriptions: Uo(e),
    managementURL: r.management_url,
    requestDate: new Date(t.request_date),
    firstSeenDate: new Date(r.first_seen),
    originalPurchaseDate: Te(
      r.original_purchase_date
    ),
    originalAppUserId: t.subscriber.original_app_user_id
  };
}
function Po(t, e) {
  if (e == null)
    return !1;
  const r = e.store == "promotional", n = t.expires_date == null, i = e.unsubscribe_detected_at != null, o = e.billing_issues_detected_at != null;
  return !(r || n || i || o);
}
function To(t, e) {
  const r = {};
  for (const n in t.subscriber.subscriptions) {
    const i = t.subscriber.subscriptions[n];
    r[n] = new Date(
      i.purchase_date
    );
  }
  for (const n in e) {
    const i = e[n].purchase_date;
    i == null ? r[n] = null : r[n] = new Date(i);
  }
  return r;
}
function No(t) {
  const e = {};
  for (const r in t.subscriber.subscriptions) {
    const n = t.subscriber.subscriptions[r];
    n.expires_date == null ? e[r] = null : e[r] = new Date(
      n.expires_date
    );
  }
  return e;
}
function Uo(t) {
  const e = /* @__PURE__ */ new Set(), r = /* @__PURE__ */ new Date();
  for (const n in t) {
    const i = t[n];
    (i == null || i > r) && e.add(n);
  }
  return e;
}
function Ro(t) {
  const e = {};
  for (const r in t) {
    if (t[r].length === 0)
      continue;
    const n = t[r].length;
    e[r] = t[r][n - 1];
  }
  return e;
}
function So(t) {
  if (!/^rcb_[a-zA-Z0-9_.-]+$/.test(t))
    throw new X(
      te.InvalidCredentialsError,
      "Invalid API key. Use your RevenueCat Billing API key."
    );
}
function Oo(t) {
  if ((/* @__PURE__ */ new Set([
    "no_user",
    "null",
    "none",
    "nil",
    "(null)",
    "NaN",
    "\\x00",
    "",
    "unidentified",
    "undefined",
    "unknown"
  ])).has(t) || t.includes("/"))
    throw new X(
      te.InvalidAppUserIdError,
      'Provided user id: "' + t + '" is not valid. See https://www.revenuecat.com/docs/customers/user-ids#tips-for-setting-app-user-ids for more information.'
    );
}
const J = class J {
  /** @internal */
  constructor(e, r) {
    /** @internal */
    Q(this, "_API_KEY");
    /** @internal */
    Q(this, "_appUserId");
    /** @internal */
    Q(this, "backend");
    /** @internal */
    Q(this, "purchaseOperationHelper");
    /** @internal */
    Q(this, "toOfferings", (e, r) => {
      const n = e.offerings.find(
        (l) => l.identifier === e.current_offering_id
      ) ?? null, i = {};
      r.product_details.forEach((l) => {
        i[l.identifier] = l;
      });
      const o = n == null ? null : Ze(n, i), s = {};
      return e.offerings.forEach((l) => {
        const c = Ze(l, i);
        c != null && (s[l.identifier] = c);
      }), Object.keys(s).length == 0 && V.debugLog(
        "Empty offerings. Please make sure you've configured offerings correctly in the RevenueCat dashboard and that the products are properly configured."
      ), {
        all: s,
        current: o
      };
    });
    this._API_KEY = e, this._appUserId = r, je(e) && V.debugLog("Initializing Purchases SDK with sandbox API Key"), this.backend = new lo(this._API_KEY), this.purchaseOperationHelper = new Cn(this.backend);
  }
  /**
   * Set the log level. Logs of the given level and below will be printed
   * in the console.
   * Default is `LogLevel.Silent` so no logs will be printed in the console.
   * @param logLevel - LogLevel to set.
   */
  static setLogLevel(e) {
    V.setLogLevel(e);
  }
  /**
   * Get the singleton instance of Purchases. It's preferred to use the instance
   * obtained from the {@link Purchases.configure} method when possible.
   * @throws {@link UninitializedPurchasesError} if the instance has not been initialized yet.
   */
  static getSharedInstance() {
    if (J.isConfigured())
      return J.instance;
    throw new Wi();
  }
  /**
   * Returns whether the Purchases SDK is configured or not.
   */
  static isConfigured() {
    return J.instance !== void 0;
  }
  /**
   * Configures the Purchases SDK. This should be called as soon as your app
   * has a unique user id for your user. You should only call this once, and
   * keep the returned instance around for use throughout your application.
   * @param apiKey - RevenueCat API Key. Can be obtained from the RevenueCat dashboard.
   * @param appUserId - Your unique id for identifying the user.
   * @throws {@link PurchasesError} if the API key or user id are invalid.
   */
  static configure(e, r) {
    return J.instance !== void 0 ? (V.warnLog(
      "Purchases is already initialized. Ignoring and returning existing instance."
    ), J.getSharedInstance()) : (So(e), Oo(r), J.instance = new J(e, r), J.getSharedInstance());
  }
  /**
   * Fetch the configured offerings for this user. You can configure these
   * in the RevenueCat dashboard.
   */
  async getOfferings() {
    const e = this._appUserId, r = await this.backend.getOfferings(e), n = r.offerings.flatMap((o) => o.packages).map((o) => o.platform_product_identifier), i = await this.backend.getProducts(
      e,
      n
    );
    return this.logMissingProductIds(n, i.product_details), this.toOfferings(r, i);
  }
  /**
   * Convenience method to check whether a user is entitled to a specific
   * entitlement. This will use {@link Purchases.getCustomerInfo} under the hood.
   * @param entitlementIdentifier - The entitlement identifier you want to check.
   * @returns Whether the user is entitled to the specified entitlement
   * @throws {@link PurchasesError} if there is an error while fetching the customer info.
   * @see {@link Purchases.getCustomerInfo}
   */
  async isEntitledTo(e) {
    const r = await this.getCustomerInfo();
    return e in r.entitlements.active;
  }
  /**
   * Method to perform a purchase for a given package. You can obtain the
   * package from {@link Purchases.getOfferings}. This method will present the purchase
   * form on your site, using the given HTML element as the mount point, if
   * provided, or as a modal if not.
   * @param rcPackage - The package you want to purchase. Obtained from {@link Purchases.getOfferings}.
   * @param customerEmail - The email of the user. If null, RevenueCat will ask the customer for their email.
   * @param htmlTarget - The HTML element where the billing view should be added. If null, a new div will be created at the root of the page and appended to the body.
   * @returns The customer info after the purchase is completed successfuly.
   * @throws {@link PurchasesError} if there is an error while performing the purchase. If the {@link PurchasesError.errorCode} is {@link ErrorCode.UserCancelledError}, the user cancelled the purchase.
   */
  purchasePackage(e, r, n) {
    let i = n ?? document.getElementById("rcb-ui-root");
    if (i === null) {
      const c = document.createElement("div");
      c.className = "rcb-ui-root", document.body.appendChild(c), i = c;
    }
    if (i === null)
      throw new Error(
        "Could not generate a mount point for the billing widget"
      );
    const o = i, s = !n, l = this._appUserId;
    return V.debugLog(
      `Presenting purchase form for package ${e.identifier}`
    ), new Promise((c, a) => {
      new vo({
        target: o,
        props: {
          appUserId: l,
          rcPackage: e,
          customerEmail: r,
          onFinished: async () => {
            V.debugLog("Purchase finished"), o.innerHTML = "", c({
              customerInfo: await this._getCustomerInfoForUserId(l)
            });
          },
          onClose: () => {
            o.innerHTML = "", V.debugLog("Purchase cancelled by user"), a(new X(te.UserCancelledError));
          },
          onError: (f) => {
            o.innerHTML = "", a(X.getForPurchasesFlowError(f));
          },
          purchases: this,
          backend: this.backend,
          purchaseOperationHelper: this.purchaseOperationHelper,
          asModal: s
        }
      });
    });
  }
  /**
   * Gets latest available {@link CustomerInfo}.
   * @returns The latest {@link CustomerInfo}.
   * @throws {@link PurchasesError} if there is an error while fetching the customer info.
   */
  async getCustomerInfo() {
    return await this._getCustomerInfoForUserId(this._appUserId);
  }
  /**
   * Gets the current app user id.
   */
  getAppUserId() {
    return this._appUserId;
  }
  /**
   * Change the current app user id. Returns the customer info for the new
   * user id.
   * @param newAppUserId - The user id to change to.
   */
  async changeUser(e) {
    return this._appUserId = e, await this.getCustomerInfo();
  }
  /** @internal */
  logMissingProductIds(e, r) {
    const n = {};
    r.forEach(
      (o) => n[o.identifier] = o
    );
    const i = [];
    e.forEach((o) => {
      n[o] === void 0 && i.push(o);
    }), i.length > 0 && V.debugLog(
      `Could not find product data for product ids: 
        ${i.join()}. 
        Please check that your product configuration is correct.`
    );
  }
  /**
   * @returns Whether the SDK is using a sandbox API Key.
   */
  isSandbox() {
    return je(this._API_KEY);
  }
  /**
   * Closes the Purchases instance. You should never have to do this normally.
   */
  close() {
    J.instance === this ? J.instance = void 0 : V.warnLog(
      "Trying to close a Purchases instance that is not the current instance. Ignoring."
    );
  }
  /** @internal */
  async _getCustomerInfoForUserId(e) {
    const r = await this.backend.getCustomerInfo(e);
    return Qo(r);
  }
};
/** @internal */
Q(J, "instance");
let It = J;
export {
  te as ErrorCode,
  j as LogLevel,
  Gt as PackageType,
  It as Purchases,
  X as PurchasesError,
  Wi as UninitializedPurchasesError
};
